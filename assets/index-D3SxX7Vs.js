(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function _0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Id={exports:{}},mo={};var N_;function pb(){if(N_)return mo;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return mo.Fragment=t,mo.jsx=i,mo.jsxs=i,mo}var x_;function yb(){return x_||(x_=1,Id.exports=pb()),Id.exports}var O=yb(),Nd={exports:{}},Tt={};var D_;function _b(){if(D_)return Tt;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,J={};function ft(D,K,tt){this.props=D,this.context=K,this.refs=J,this.updater=tt||$}ft.prototype.isReactComponent={},ft.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},ft.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function mt(D,K,tt){this.props=D,this.context=K,this.refs=J,this.updater=tt||$}var Kt=mt.prototype=new Et;Kt.constructor=mt,it(Kt,ft.prototype),Kt.isPureReactComponent=!0;var Wt=Array.isArray;function Dt(){}var I={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function C(D,K,tt){var st=tt.ref;return{$$typeof:r,type:D,key:K,ref:st!==void 0?st:null,props:tt}}function V(D,K){return C(D.type,K,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(tt){return K[tt]})}var w=/\/+/g;function Xt(D,K){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):K.toString(36)}function ge(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Dt,Dt):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function H(D,K,tt,st,yt){var At=typeof D;(At==="undefined"||At==="boolean")&&(D=null);var It=!1;if(D===null)It=!0;else switch(At){case"bigint":case"string":case"number":It=!0;break;case"object":switch(D.$$typeof){case r:case t:It=!0;break;case b:return It=D._init,H(It(D._payload),K,tt,st,yt)}}if(It)return yt=yt(D),It=st===""?"."+Xt(D,0):st,Wt(yt)?(tt="",It!=null&&(tt=It.replace(w,"$&/")+"/"),H(yt,K,tt,"",function(Gn){return Gn})):yt!=null&&(N(yt)&&(yt=V(yt,tt+(yt.key==null||D&&D.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+It)),K.push(yt)),1;It=0;var pe=st===""?".":st+":";if(Wt(D))for(var re=0;re<D.length;re++)st=D[re],At=pe+Xt(st,re),It+=H(st,K,tt,At,yt);else if(re=F(D),typeof re=="function")for(D=re.call(D),re=0;!(st=D.next()).done;)st=st.value,At=pe+Xt(st,re++),It+=H(st,K,tt,At,yt);else if(At==="object"){if(typeof D.then=="function")return H(ge(D),K,tt,st,yt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return It}function et(D,K,tt){if(D==null)return D;var st=[],yt=0;return H(D,st,"","",function(At){return K.call(tt,At,yt++)}),st}function ut(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(tt){(D._status===0||D._status===-1)&&(D._status=1,D._result=tt)},function(tt){(D._status===0||D._status===-1)&&(D._status=2,D._result=tt)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var Pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},jt={map:et,forEach:function(D,K,tt){et(D,function(){K.apply(this,arguments)},tt)},count:function(D){var K=0;return et(D,function(){K++}),K},toArray:function(D){return et(D,function(K){return K})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Tt.Activity=S,Tt.Children=jt,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=mt,Tt.StrictMode=a,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},Tt.cache=function(D){return function(){return D.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(D,K,tt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=it({},D.props),yt=D.key;if(K!=null)for(At in K.key!==void 0&&(yt=""+K.key),K)!A.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(st[At]=K[At]);var At=arguments.length-2;if(At===1)st.children=tt;else if(1<At){for(var It=Array(At),pe=0;pe<At;pe++)It[pe]=arguments[pe+2];st.children=It}return C(D.type,yt,st)},Tt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Tt.createElement=function(D,K,tt){var st,yt={},At=null;if(K!=null)for(st in K.key!==void 0&&(At=""+K.key),K)A.call(K,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=K[st]);var It=arguments.length-2;if(It===1)yt.children=tt;else if(1<It){for(var pe=Array(It),re=0;re<It;re++)pe[re]=arguments[re+2];yt.children=pe}if(D&&D.defaultProps)for(st in It=D.defaultProps,It)yt[st]===void 0&&(yt[st]=It[st]);return C(D,At,yt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(D){return{$$typeof:p,render:D}},Tt.isValidElement=N,Tt.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:ut}},Tt.memo=function(D,K){return{$$typeof:v,type:D,compare:K===void 0?null:K}},Tt.startTransition=function(D){var K=I.T,tt={};I.T=tt;try{var st=D(),yt=I.S;yt!==null&&yt(tt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(Dt,Pt)}catch(At){Pt(At)}finally{K!==null&&tt.types!==null&&(K.types=tt.types),I.T=K}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(D){return I.H.use(D)},Tt.useActionState=function(D,K,tt){return I.H.useActionState(D,K,tt)},Tt.useCallback=function(D,K){return I.H.useCallback(D,K)},Tt.useContext=function(D){return I.H.useContext(D)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(D,K){return I.H.useDeferredValue(D,K)},Tt.useEffect=function(D,K){return I.H.useEffect(D,K)},Tt.useEffectEvent=function(D){return I.H.useEffectEvent(D)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(D,K,tt){return I.H.useImperativeHandle(D,K,tt)},Tt.useInsertionEffect=function(D,K){return I.H.useInsertionEffect(D,K)},Tt.useLayoutEffect=function(D,K){return I.H.useLayoutEffect(D,K)},Tt.useMemo=function(D,K){return I.H.useMemo(D,K)},Tt.useOptimistic=function(D,K){return I.H.useOptimistic(D,K)},Tt.useReducer=function(D,K,tt){return I.H.useReducer(D,K,tt)},Tt.useRef=function(D){return I.H.useRef(D)},Tt.useState=function(D){return I.H.useState(D)},Tt.useSyncExternalStore=function(D,K,tt){return I.H.useSyncExternalStore(D,K,tt)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.3",Tt}var O_;function Em(){return O_||(O_=1,Nd.exports=_b()),Nd.exports}var Qt=Em();const vb=_0(Qt);var xd={exports:{}},go={},Dd={exports:{}},Od={};var M_;function Eb(){return M_||(M_=1,(function(r){function t(H,et){var ut=H.length;H.push(et);t:for(;0<ut;){var Pt=ut-1>>>1,jt=H[Pt];if(0<o(jt,et))H[Pt]=et,H[ut]=jt,ut=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var et=H[0],ut=H.pop();if(ut!==et){H[0]=ut;t:for(var Pt=0,jt=H.length,D=jt>>>1;Pt<D;){var K=2*(Pt+1)-1,tt=H[K],st=K+1,yt=H[st];if(0>o(tt,ut))st<jt&&0>o(yt,tt)?(H[Pt]=yt,H[st]=ut,Pt=st):(H[Pt]=tt,H[K]=ut,Pt=K);else if(st<jt&&0>o(yt,ut))H[Pt]=yt,H[st]=ut,Pt=st;else break t}}return et}function o(H,et){var ut=H.sortIndex-et.sortIndex;return ut!==0?ut:H.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],v=[],b=1,S=null,M=3,F=!1,$=!1,it=!1,J=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Kt(H){for(var et=i(v);et!==null;){if(et.callback===null)a(v);else if(et.startTime<=H)a(v),et.sortIndex=et.expirationTime,t(y,et);else break;et=i(v)}}function Wt(H){if(it=!1,Kt(H),!$)if(i(y)!==null)$=!0,Dt||(Dt=!0,k());else{var et=i(v);et!==null&&ge(Wt,et.startTime-H)}}var Dt=!1,I=-1,A=5,C=-1;function V(){return J?!0:!(r.unstable_now()-C<A)}function N(){if(J=!1,Dt){var H=r.unstable_now();C=H;var et=!0;try{t:{$=!1,it&&(it=!1,Et(I),I=-1),F=!0;var ut=M;try{e:{for(Kt(H),S=i(y);S!==null&&!(S.expirationTime>H&&V());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,M=S.priorityLevel;var jt=Pt(S.expirationTime<=H);if(H=r.unstable_now(),typeof jt=="function"){S.callback=jt,Kt(H),et=!0;break e}S===i(y)&&a(y),Kt(H)}else a(y);S=i(y)}if(S!==null)et=!0;else{var D=i(v);D!==null&&ge(Wt,D.startTime-H),et=!1}}break t}finally{S=null,M=ut,F=!1}et=void 0}}finally{et?k():Dt=!1}}}var k;if(typeof mt=="function")k=function(){mt(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Xt=w.port2;w.port1.onmessage=N,k=function(){Xt.postMessage(null)}}else k=function(){ft(N,0)};function ge(H,et){I=ft(function(){H(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ut=M;M=et;try{return H()}finally{M=ut}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,et){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=M;M=H;try{return et()}finally{M=ut}},r.unstable_scheduleCallback=function(H,et,ut){var Pt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,H){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ut+jt,H={id:b++,callback:et,priorityLevel:H,startTime:ut,expirationTime:jt,sortIndex:-1},ut>Pt?(H.sortIndex=ut,t(v,H),i(y)===null&&H===i(v)&&(it?(Et(I),I=-1):it=!0,ge(Wt,ut-Pt))):(H.sortIndex=jt,t(y,H),$||F||($=!0,Dt||(Dt=!0,k()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var et=M;return function(){var ut=M;M=et;try{return H.apply(this,arguments)}finally{M=ut}}}})(Od)),Od}var V_;function Tb(){return V_||(V_=1,Dd.exports=Eb()),Dd.exports}var Md={exports:{}},$e={};var k_;function bb(){if(k_)return $e;k_=1;var r=Em();function t(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,v,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:v,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return c(y,v,null,b)},$e.flushSync=function(y){var v=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=b,a.d.f()}},$e.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},$e.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},$e.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,S=p(b,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},$e.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=p(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},$e.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,S=p(b,v.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},$e.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=p(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},$e.requestFormReset=function(y){a.d.r(y)},$e.unstable_batchedUpdates=function(y,v){return y(v)},$e.useFormState=function(y,v,b){return d.H.useFormState(y,v,b)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var U_;function Ab(){if(U_)return Md.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=bb(),Md.exports}var L_;function Sb(){if(L_)return go;L_=1;var r=Tb(),t=Em(),i=Ab();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function v(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),Wt=Symbol.for("react.suspense"),Dt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case ft:return"Profiler";case J:return"StrictMode";case Wt:return"Suspense";case Dt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Xt(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return Xt(e(n))}catch{}}return null}var ge=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Pt=[],jt=-1;function D(e){return{current:e}}function K(e){0>jt||(e.current=Pt[jt],Pt[jt]=null,jt--)}function tt(e,n){jt++,Pt[jt]=e.current,e.current=n}var st=D(null),yt=D(null),At=D(null),It=D(null);function pe(e,n){switch(tt(At,n),tt(yt,e),tt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?$y(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=$y(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(st),tt(st,e)}function re(){K(st),K(yt),K(At)}function Gn(e){e.memoizedState!==null&&tt(It,e);var n=st.current,s=Wy(n,e.type);n!==s&&(tt(yt,e),tt(st,s))}function nt(e){yt.current===e&&(K(st),K(yt)),It.current===e&&(K(It),uo._currentValue=ut)}var ct,Ct;function Bt(e){if(ct===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ct=n&&n[1]||"",Ct=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+e+Ct}var qe=!1;function Li(e,n){if(!e||qe)return"";qe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),z=E.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var G=`
`+R[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{qe=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Bt(s):""}function cl(e,n){switch(e.tag){case 26:case 27:case 5:return Bt(e.type);case 16:return Bt("Lazy");case 13:return e.child!==n&&n!==null?Bt("Suspense Fallback"):Bt("Suspense");case 19:return Bt("SuspenseList");case 0:case 15:return Li(e.type,!1);case 11:return Li(e.type.render,!1);case 1:return Li(e.type,!0);case 31:return Bt("Activity");default:return""}}function hl(e){try{var n="",s=null;do n+=cl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,hs=r.unstable_cancelCallback,Nh=r.unstable_shouldYield,Fo=r.unstable_requestPaint,an=r.unstable_now,hr=r.unstable_getCurrentPriorityLevel,fl=r.unstable_ImmediatePriority,dl=r.unstable_UserBlockingPriority,fs=r.unstable_NormalPriority,xh=r.unstable_LowPriority,Qo=r.unstable_IdlePriority,Ko=r.log,Yo=r.unstable_setDisableYieldValue,Fn=null,He=null;function Nn(e){if(typeof Ko=="function"&&Yo(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Fn,e)}catch{}}var ye=Math.clz32?Math.clz32:Zo,Xo=Math.log,Wr=Math.LN2;function Zo(e){return e>>>=0,e===0?32:31-(Xo(e)/Wr|0)|0}var ri=256,fr=262144,Ae=4194304;function ai(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ai(l):(g&=E,g!==0?h=ai(g):s||(s=E&~e,s!==0&&(h=ai(s))))):(E=l&~f,E!==0?h=ai(E):g!==0?h=ai(g):s||(s=l&~e,s!==0&&(h=ai(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function oi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-ye(s),Y=1<<G;E[G]=0,R[G]=-1;var j=z[G];if(j!==null)for(z[G]=null,G=0;G<j.length;G++){var q=j[G];q!==null&&(q.lane&=-536870913)}s&=~Y}l!==0&&mr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function mr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ye(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function ml(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-ye(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function gl(e,n){var s=n&-n;return s=(s&42)!==0?1:gr(s),(s&(e.suspendedLanes|n))!==0?0:s}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $o(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function Kn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var Yn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Yn,Pe="__reactProps$"+Yn,ui="__reactContainer$"+Yn,ta="__reactEvents$"+Yn,Mh="__reactListeners$"+Yn,Wo="__reactHandles$"+Yn,tu="__reactResources$"+Yn,ci="__reactMarker$"+Yn;function ea(e){delete e[Se],delete e[Pe],delete e[ta],delete e[Mh],delete e[Wo]}function hi(e){var n=e[Se];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ui]||s[Se]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[Se])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function xn(e){if(e=e[Se]||e[ui]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function fi(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[ci]=!0}var pl=new Set,yl={};function di(e,n){mi(e,n),mi(e+"Capture",n)}function mi(e,n){for(yl[e]=n,e=0;e<n.length;e++)pl.add(n[e])}var _l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vl={},El={};function eu(e){return be.call(El,e)?!0:be.call(vl,e)?!1:_l.test(e)?El[e]=!0:(vl[e]=!0,!1)}function na(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function En(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Re(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Tl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=ds(e)?"checked":"value";e._valueTracker=Tl(e,n,""+e[n])}}function pr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ds(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yr=/[\n"\\]/g;function cn(e){return e.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?bl(e,g,ze(n)):s!=null?bl(e,g,ze(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function nu(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}s=s!=null?""+ze(s):"",n=n!=null?""+ze(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zt(e)}function bl(e,n,s){n==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ms(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ze(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,s){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ze(s):""}function gs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ge(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ze(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Zt(e)}function hn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Al(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||su.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Sl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Al(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Al(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Xn(){}var wl=null;function Dn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,pi=null;function _r(e){var n=xn(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+cn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(a(90));ia(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&pr(l)}break t;case"textarea":iu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ms(e,!!s.multiple,n,!1)}}}var aa=!1;function _s(e,n,s){if(aa)return e(n,s);aa=!0;try{var l=e(n);return l}finally{if(aa=!1,(ys!==null||pi!==null)&&($u(),ys&&(n=ys,e=pi,pi=ys=null,_r(n),e)))for(n=0;n<e.length;n++)_r(e[n])}}function Zn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Pe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(On)try{var te={};Object.defineProperty(te,"passive",{get:function(){vr=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{vr=!1}var yi=null,Rl=null,Er=null;function Cl(){if(Er)return Er;var e,n=Rl,s=n.length,l,h="value"in yi?yi.value:yi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Er=h.slice(e,1<l?1-l:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Jn(){return!1}function Ge(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Jn,this.isPropagationStopped=Jn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_i=Ge(ji),vs=S({},ji,{view:0,detail:0}),Il=Ge(vs),Es,la,vi,oa=S({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(Es=e.screenX-vi.screenX,la=e.screenY-vi.screenY):la=Es=0,vi=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Nl=Ge(oa),br=S({},oa,{dataTransfer:0}),au=Ge(br),lu=S({},vs,{relatedTarget:0}),Ar=Ge(lu),xl=S({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=Ge(xl),ua=S({},ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=Ge(ua),cu=S({},ji,{data:0}),Ei=Ge(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function Ts(){return mu}var ln=S({},vs,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=Ge(ln),pu=S({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ge(pu),u=S({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=Ge(u),_=S({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ge(_),L=S({},oa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Ge(L),W=S({},ji,{newState:0,oldState:0}),St=Ge(W),_e=[9,13,27,32],Gt=On&&"CompositionEvent"in window,ce=null;On&&"documentMode"in document&&(ce=document.documentMode);var Mn=On&&"TextEvent"in window&&!ce,Ti=On&&(!Gt||ce&&8<ce&&11>=ce),$n=" ",Wn=!1;function Sr(e,n){switch(e){case"keyup":return _e.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function jT(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Wn=!0,$n);case"textInput":return e=n.data,e===$n&&Wn?null:e;default:return null}}function BT(e,n){if(ha)return e==="compositionend"||!Gt&&Sr(e,n)?(e=Cl(),Er=Rl=yi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ti&&n.locale!=="ko"?null:n.data;default:return null}}var qT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qT[e.type]:n==="textarea"}function cg(e,n,s,l){ys?pi?pi.push(l):pi=[l]:ys=l,n=rc(n,"onChange"),0<n.length&&(s=new _i("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Dl=null,Ol=null;function HT(e){Qy(e,0)}function yu(e){var n=vn(e);if(pr(n))return e}function hg(e,n){if(e==="change")return n}var fg=!1;if(On){var Vh;if(On){var kh="oninput"in document;if(!kh){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),kh=typeof dg.oninput=="function"}Vh=kh}else Vh=!1;fg=Vh&&(!document.documentMode||9<document.documentMode)}function mg(){Dl&&(Dl.detachEvent("onpropertychange",gg),Ol=Dl=null)}function gg(e){if(e.propertyName==="value"&&yu(Ol)){var n=[];cg(n,Ol,e,Dn(e)),_s(HT,n)}}function GT(e,n,s){e==="focusin"?(mg(),Dl=n,Ol=s,Dl.attachEvent("onpropertychange",gg)):e==="focusout"&&mg()}function FT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(Ol)}function QT(e,n){if(e==="click")return yu(n)}function KT(e,n){if(e==="input"||e==="change")return yu(n)}function YT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Tn=typeof Object.is=="function"?Object.is:YT;function Ml(e,n){if(Tn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!be.call(n,h)||!Tn(e[h],n[h]))return!1}return!0}function pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yg(e,n){var s=pg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=pg(s)}}function _g(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_g(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=gi(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var XT=On&&"documentMode"in document&&11>=document.documentMode,fa=null,Lh=null,Vl=null,Ph=!1;function Eg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||fa==null||fa!==gi(l)||(l=fa,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Vl&&Ml(Vl,l)||(Vl=l,l=rc(Lh,"onSelect"),0<l.length&&(n=new _i("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=fa)))}function wr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},zh={},Tg={};On&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Rr(e){if(zh[e])return zh[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tg)return zh[e]=n[s];return e}var bg=Rr("animationend"),Ag=Rr("animationiteration"),Sg=Rr("animationstart"),ZT=Rr("transitionrun"),JT=Rr("transitionstart"),$T=Rr("transitioncancel"),wg=Rr("transitionend"),Rg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function ti(e,n){Rg.set(e,n),di(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vn=[],ma=0,Bh=0;function vu(){for(var e=ma,n=Bh=ma=0;n<e;){var s=Vn[n];Vn[n++]=null;var l=Vn[n];Vn[n++]=null;var h=Vn[n];Vn[n++]=null;var f=Vn[n];if(Vn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Cg(s,h,f)}}function Eu(e,n,s,l){Vn[ma++]=e,Vn[ma++]=n,Vn[ma++]=s,Vn[ma++]=l,Bh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qh(e,n,s,l){return Eu(e,n,s,l),Tu(e)}function Cr(e,n){return Eu(e,null,null,n),Tu(e)}function Cg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ye(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Tu(e){if(50<no)throw no=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function WT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(e,n,s,l){return new WT(e,n,s,l)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qi(e,n){var s=e.alternate;return s===null?(s=bn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ig(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=sb(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=bn(31,s,n,h),e.elementType=C,e.lanes=f,e;case it:return Ir(s.children,h,f,n);case J:g=8,h|=24;break;case ft:return e=bn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case Wt:return e=bn(13,s,n,h),e.elementType=Wt,e.lanes=f,e;case Dt:return e=bn(19,s,n,h),e.elementType=Dt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case Et:g=9;break t;case Kt:g=11;break t;case I:g=14;break t;case A:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=bn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Ir(e,n,s,l){return e=bn(7,e,l,n),e.lanes=s,e}function Gh(e,n,s){return e=bn(6,e,null,n),e.lanes=s,e}function Ng(e){var n=bn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=bn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xg=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var s=xg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:hl(n)},xg.set(e,n),n)}return{value:e,source:n,stack:hl(n)}}var pa=[],ya=0,Au=null,kl=0,Un=[],Ln=0,bs=null,bi=1,Ai="";function Hi(e,n){pa[ya++]=kl,pa[ya++]=Au,Au=e,kl=n}function Dg(e,n,s){Un[Ln++]=bi,Un[Ln++]=Ai,Un[Ln++]=bs,bs=e;var l=bi;e=Ai;var h=32-ye(l)-1;l&=~(1<<h),s+=1;var f=32-ye(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,bi=1<<32-ye(n)+h|s<<h|l,Ai=f+e}else bi=1<<f|s<<h|l,Ai=e}function Qh(e){e.return!==null&&(Hi(e,1),Dg(e,1,0))}function Kh(e){for(;e===Au;)Au=pa[--ya],pa[ya]=null,kl=pa[--ya],pa[ya]=null;for(;e===bs;)bs=Un[--Ln],Un[Ln]=null,Ai=Un[--Ln],Un[Ln]=null,bi=Un[--Ln],Un[Ln]=null}function Og(e,n){Un[Ln++]=bi,Un[Ln++]=Ai,Un[Ln++]=bs,bi=n.id,Ai=n.overflow,bs=e}var Fe=null,ae=null,Lt=!1,As=null,Pn=!1,Yh=Error(a(519));function Ss(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ul(kn(n,e)),Yh}function Mg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Se]=e,n[Pe]=l,s){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<so.length;s++)xt(so[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),gs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Zy(n.textContent,s)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=Xn),n=!0):n=!1,n||Ss(e,!0)}function Vg(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Fe=Fe.return}}function _a(e){if(e!==Fe)return!1;if(!Lt)return Vg(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&ae&&Ss(e),Vg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ae=r_(e)}else n===27?(n=ae,Ps(e.type)?(e=_d,_d=null,ae=e):ae=n):ae=Fe?jn(e.stateNode.nextSibling):null;return!0}function Nr(){ae=Fe=null,Lt=!1}function Xh(){var e=As;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),As=null),e}function Ul(e){As===null?As=[e]:As.push(e)}var Zh=D(null),xr=null,Gi=null;function ws(e,n,s){tt(Zh,n._currentValue),n._currentValue=s}function Fi(e){e._currentValue=Zh.current,K(Zh)}function Jh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function $h(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Jh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Tn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===It.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(uo):e=[uo])}h=h.return}e!==null&&$h(n,e,s,l),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){xr=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return kg(xr,e)}function wu(e,n){return xr===null&&Dr(e),kg(e,n)}function kg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Gi===null){if(e===null)throw Error(a(308));Gi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gi=Gi.next=n;return s}var t1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},e1=r.unstable_scheduleCallback,n1=r.unstable_NormalPriority,Ce={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new t1,data:new Map,refCount:0}}function Ll(e){e.refCount--,e.refCount===0&&e1(n1,function(){e.controller.abort()})}var Pl=null,tf=0,Ea=0,Ta=null;function i1(e,n){if(Pl===null){var s=Pl=[];tf=0,Ea=sd(),Ta={status:"pending",value:void 0,then:function(l){s.push(l)}}}return tf++,n.then(Ug,Ug),n}function Ug(){if(--tf===0&&Pl!==null){Ta!==null&&(Ta.status="fulfilled");var e=Pl;Pl=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function s1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Lg=H.S;H.S=function(e,n){Ey=an(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&i1(e,n),Lg!==null&&Lg(e,n)};var Or=D(null);function ef(){var e=Or.current;return e!==null?e:se.pooledCache}function Ru(e,n){n===null?tt(Or,Or.current):tt(Or,n.pool)}function Pg(){var e=ef();return e===null?null:{parent:Ce._currentValue,pool:e}}var ba=Error(a(460)),nf=Error(a(474)),Cu=Error(a(542)),Iu={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Xn,Xn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qg(e),e;default:if(typeof n.status=="string")n.then(Xn,Xn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qg(e),e}throw Vr=n,ba}}function Mr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vr=s,ba):s}}var Vr=null;function Bg(){if(Vr===null)throw Error(a(459));var e=Vr;return Vr=null,e}function qg(e){if(e===ba||e===Cu)throw Error(a(483))}var Aa=null,zl=0;function Nu(e){var n=zl;return zl+=1,Aa===null&&(Aa=[]),jg(Aa,e,n)}function jl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Hg(e){function n(U,x){if(e){var P=U.deletions;P===null?(U.deletions=[x],U.flags|=16):P.push(x)}}function s(U,x){if(!e)return null;for(;x!==null;)n(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function h(U,x){return U=qi(U,x),U.index=0,U.sibling=null,U}function f(U,x,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<x?(U.flags|=67108866,x):P):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,x,P,Q){return x===null||x.tag!==6?(x=Gh(P,U.mode,Q),x.return=U,x):(x=h(x,P),x.return=U,x)}function R(U,x,P,Q){var ht=P.type;return ht===it?G(U,x,P.props.children,Q,P.key):x!==null&&(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Mr(ht)===x.type)?(x=h(x,P.props),jl(x,P),x.return=U,x):(x=bu(P.type,P.key,P.props,null,U.mode,Q),jl(x,P),x.return=U,x)}function z(U,x,P,Q){return x===null||x.tag!==4||x.stateNode.containerInfo!==P.containerInfo||x.stateNode.implementation!==P.implementation?(x=Fh(P,U.mode,Q),x.return=U,x):(x=h(x,P.children||[]),x.return=U,x)}function G(U,x,P,Q,ht){return x===null||x.tag!==7?(x=Ir(P,U.mode,Q,ht),x.return=U,x):(x=h(x,P),x.return=U,x)}function Y(U,x,P){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Gh(""+x,U.mode,P),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case F:return P=bu(x.type,x.key,x.props,null,U.mode,P),jl(P,x),P.return=U,P;case $:return x=Fh(x,U.mode,P),x.return=U,x;case A:return x=Mr(x),Y(U,x,P)}if(ge(x)||k(x))return x=Ir(x,U.mode,P,null),x.return=U,x;if(typeof x.then=="function")return Y(U,Nu(x),P);if(x.$$typeof===mt)return Y(U,wu(U,x),P);xu(U,x)}return null}function j(U,x,P,Q){var ht=x!==null?x.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(U,x,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ht?R(U,x,P,Q):null;case $:return P.key===ht?z(U,x,P,Q):null;case A:return P=Mr(P),j(U,x,P,Q)}if(ge(P)||k(P))return ht!==null?null:G(U,x,P,Q,null);if(typeof P.then=="function")return j(U,x,Nu(P),Q);if(P.$$typeof===mt)return j(U,x,wu(U,P),Q);xu(U,P)}return null}function q(U,x,P,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(x,U,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?P:Q.key)||null,R(x,U,Q,ht);case $:return U=U.get(Q.key===null?P:Q.key)||null,z(x,U,Q,ht);case A:return Q=Mr(Q),q(U,x,P,Q,ht)}if(ge(Q)||k(Q))return U=U.get(P)||null,G(x,U,Q,ht,null);if(typeof Q.then=="function")return q(U,x,P,Nu(Q),ht);if(Q.$$typeof===mt)return q(U,x,P,wu(x,Q),ht);xu(x,Q)}return null}function at(U,x,P,Q){for(var ht=null,qt=null,lt=x,Rt=x=0,Mt=null;lt!==null&&Rt<P.length;Rt++){lt.index>Rt?(Mt=lt,lt=null):Mt=lt.sibling;var Ht=j(U,lt,P[Rt],Q);if(Ht===null){lt===null&&(lt=Mt);break}e&&lt&&Ht.alternate===null&&n(U,lt),x=f(Ht,x,Rt),qt===null?ht=Ht:qt.sibling=Ht,qt=Ht,lt=Mt}if(Rt===P.length)return s(U,lt),Lt&&Hi(U,Rt),ht;if(lt===null){for(;Rt<P.length;Rt++)lt=Y(U,P[Rt],Q),lt!==null&&(x=f(lt,x,Rt),qt===null?ht=lt:qt.sibling=lt,qt=lt);return Lt&&Hi(U,Rt),ht}for(lt=l(lt);Rt<P.length;Rt++)Mt=q(lt,U,Rt,P[Rt],Q),Mt!==null&&(e&&Mt.alternate!==null&&lt.delete(Mt.key===null?Rt:Mt.key),x=f(Mt,x,Rt),qt===null?ht=Mt:qt.sibling=Mt,qt=Mt);return e&&lt.forEach(function(Hs){return n(U,Hs)}),Lt&&Hi(U,Rt),ht}function gt(U,x,P,Q){if(P==null)throw Error(a(151));for(var ht=null,qt=null,lt=x,Rt=x=0,Mt=null,Ht=P.next();lt!==null&&!Ht.done;Rt++,Ht=P.next()){lt.index>Rt?(Mt=lt,lt=null):Mt=lt.sibling;var Hs=j(U,lt,Ht.value,Q);if(Hs===null){lt===null&&(lt=Mt);break}e&&lt&&Hs.alternate===null&&n(U,lt),x=f(Hs,x,Rt),qt===null?ht=Hs:qt.sibling=Hs,qt=Hs,lt=Mt}if(Ht.done)return s(U,lt),Lt&&Hi(U,Rt),ht;if(lt===null){for(;!Ht.done;Rt++,Ht=P.next())Ht=Y(U,Ht.value,Q),Ht!==null&&(x=f(Ht,x,Rt),qt===null?ht=Ht:qt.sibling=Ht,qt=Ht);return Lt&&Hi(U,Rt),ht}for(lt=l(lt);!Ht.done;Rt++,Ht=P.next())Ht=q(lt,U,Rt,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&lt.delete(Ht.key===null?Rt:Ht.key),x=f(Ht,x,Rt),qt===null?ht=Ht:qt.sibling=Ht,qt=Ht);return e&&lt.forEach(function(gb){return n(U,gb)}),Lt&&Hi(U,Rt),ht}function ie(U,x,P,Q){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ht=P.key;x!==null;){if(x.key===ht){if(ht=P.type,ht===it){if(x.tag===7){s(U,x.sibling),Q=h(x,P.props.children),Q.return=U,U=Q;break t}}else if(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===A&&Mr(ht)===x.type){s(U,x.sibling),Q=h(x,P.props),jl(Q,P),Q.return=U,U=Q;break t}s(U,x);break}else n(U,x);x=x.sibling}P.type===it?(Q=Ir(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=bu(P.type,P.key,P.props,null,U.mode,Q),jl(Q,P),Q.return=U,U=Q)}return g(U);case $:t:{for(ht=P.key;x!==null;){if(x.key===ht)if(x.tag===4&&x.stateNode.containerInfo===P.containerInfo&&x.stateNode.implementation===P.implementation){s(U,x.sibling),Q=h(x,P.children||[]),Q.return=U,U=Q;break t}else{s(U,x);break}else n(U,x);x=x.sibling}Q=Fh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case A:return P=Mr(P),ie(U,x,P,Q)}if(ge(P))return at(U,x,P,Q);if(k(P)){if(ht=k(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),gt(U,x,P,Q)}if(typeof P.then=="function")return ie(U,x,Nu(P),Q);if(P.$$typeof===mt)return ie(U,x,wu(U,P),Q);xu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,x!==null&&x.tag===6?(s(U,x.sibling),Q=h(x,P),Q.return=U,U=Q):(s(U,x),Q=Gh(P,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,x)}return function(U,x,P,Q){try{zl=0;var ht=ie(U,x,P,Q);return Aa=null,ht}catch(lt){if(lt===ba||lt===Cu)throw lt;var qt=bn(29,lt,null,U.mode);return qt.lanes=Q,qt.return=U,qt}}}var kr=Hg(!0),Gg=Hg(!1),Rs=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Tu(e),Cg(e,null,s),n}return Eu(e,l,n,s),Tu(e)}function Bl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ml(e,s)}}function af(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function ql(){if(lf){var e=Ta;if(e!==null)throw e}}function Hl(e,n,s,l){lf=!1;var h=e.updateQueue;Rs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,G=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Ot&j)===j:(l&j)===j){j!==0&&j===Ea&&(lf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,gt=E;j=n;var ie=s;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){Y=at.call(ie,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,j=typeof at=="function"?at.call(ie,Y,j):at,j==null)break t;Y=S({},Y,j);break t;case 2:Rs=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=q,R=Y):G=G.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Ms|=g,e.lanes=g,e.memoizedState=Y}}function Fg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fg(s[e],n)}var Sa=D(null),Du=D(0);function Kg(e,n){e=ts,tt(Du,e),tt(Sa,n),ts=e|n.baseLanes}function of(){tt(Du,ts),tt(Sa,Sa.current)}function uf(){ts=Du.current,K(Sa),K(Du)}var An=D(null),zn=null;function Ns(e){var n=e.alternate;tt(ve,ve.current&1),tt(An,e),zn===null&&(n===null||Sa.current!==null||n.memoizedState!==null)&&(zn=e)}function cf(e){tt(ve,ve.current),tt(An,e),zn===null&&(zn=e)}function Yg(e){e.tag===22?(tt(ve,ve.current),tt(An,e),zn===null&&(zn=e)):xs()}function xs(){tt(ve,ve.current),tt(An,An.current)}function Sn(e){K(An),zn===e&&(zn=null),K(ve)}var ve=D(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Qi=0,wt=null,ee=null,Ie=null,Mu=!1,wa=!1,Ur=!1,Vu=0,Gl=0,Ra=null,r1=0;function de(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Tn(e[s],n[s]))return!1;return!0}function ff(e,n,s,l,h,f){return Qi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Dp:Cf,Ur=!1,f=s(l,h),Ur=!1,wa&&(f=Zg(n,s,l,h)),Xg(e),f}function Xg(e){H.H=Kl;var n=ee!==null&&ee.next!==null;if(Qi=0,Ie=ee=wt=null,Mu=!1,Gl=0,Ra=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Su(e)&&(Ne=!0))}function Zg(e,n,s,l){wt=e;var h=0;do{if(wa&&(Ra=null),Gl=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,Ie=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Op,f=n(s,l)}while(wa);return f}function a1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Fl(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(wt.flags|=1024),n}function df(){var e=Vu!==0;return Vu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}Qi=0,Ie=ee=wt=null,wa=!1,Gl=Vu=0,Ra=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?wt.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Ee(){if(ee===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ie===null?wt.memoizedState:Ie.next;if(n!==null)Ie=n,ee=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ie===null?wt.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fl(e){var n=Gl;return Gl+=1,Ra===null&&(Ra=[]),e=jg(Ra,e,n),n=wt,(Ie===null?n.memoizedState:Ie.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Dp:Cf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fl(e);if(e.$$typeof===mt)return Qe(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ku(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function Ki(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=Ee();return yf(n,ee,e)}function yf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,z=n,G=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Ot&Y)===Y:(Qi&Y)===Y){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===Ea&&(G=!0);else if((Qi&j)===j){z=z.next,j===Ea&&(G=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Y,g=f):R=R.next=Y,wt.lanes|=j,Ms|=j;Y=z.action,Ur&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,g=f):R=R.next=j,wt.lanes|=Y,Ms|=Y;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=E,!Tn(f,e.memoizedState)&&(Ne=!0,G&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _f(e){var n=Ee(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Tn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Jg(e,n,s){var l=wt,h=Ee(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Tn((ee||h).memoizedState,s);if(g&&(h.memoizedState=s,Ne=!0),h=h.queue,Tf(tp.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},Wg.bind(null,l,h,s,n),null),se===null)throw Error(a(349));f||(Qi&127)!==0||$g(l,n,s)}return s}function $g(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=ku(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wg(e,n,s,l){n.value=s,n.getSnapshot=l,ep(n)&&np(e)}function tp(e,n,s){return s(function(){ep(n)&&np(e)})}function ep(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Tn(e,s)}catch{return!0}}function np(e){var n=Cr(e,2);n!==null&&pn(n,e,2)}function vf(e){var n=on();if(typeof e=="function"){var s=e;if(e=s(),Ur){Nn(!0);try{s()}finally{Nn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:e},n}function ip(e,n,s,l){return e.baseState=s,yf(e,ee,typeof l=="function"?l:Ki)}function l1(e,n,s,l,h){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,sp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sp(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,l),R=H.S;R!==null&&R(g,E),rp(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,l),rp(e,n,f)}catch(z){Ef(e,n,z)}}function rp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){ap(e,n,l)},function(l){return Ef(e,n,l)}):ap(e,n,s)}function ap(e,n,s){n.status="fulfilled",n.value=s,lp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sp(e,s)))}function Ef(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lp(n),n=n.next;while(n!==l)}e.action=null}function lp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function op(e,n){return n}function up(e,n){if(Lt){var s=se.formState;if(s!==null){t:{var l=wt;if(Lt){if(ae){e:{for(var h=ae,f=Pn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=jn(h.nextSibling),l=h.data==="F!";break t}}Ss(l)}l=!1}l&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},s.queue=l,s=Ip.bind(null,wt,l),l.dispatch=s,l=vf(!1),f=Rf.bind(null,wt,!1,l.queue),l=on(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=l1.bind(null,wt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function cp(e){var n=Ee();return hp(n,ee,e)}function hp(e,n,s){if(n=yf(e,n,op)[0],e=Lu(Ki)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Fl(n)}catch(g){throw g===ba?Cu:g}else l=n;n=Ee();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,Ca(9,{destroy:void 0},o1.bind(null,h,s),null)),[l,f,e]}function o1(e,n){e.action=n}function fp(e){var n=Ee(),s=ee;if(s!==null)return hp(n,s,e);Ee(),n=n.memoizedState,s=Ee();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ca(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=ku(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function dp(){return Ee().memoizedState}function Pu(e,n,s,l){var h=on();wt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,l===void 0?null:l)}function zu(e,n,s,l){var h=Ee();l=l===void 0?null:l;var f=h.memoizedState.inst;ee!==null&&l!==null&&hf(l,ee.memoizedState.deps)?h.memoizedState=Ca(n,f,s,l):(wt.flags|=e,h.memoizedState=Ca(1|n,f,s,l))}function mp(e,n){Pu(8390656,8,e,n)}function Tf(e,n){zu(2048,8,e,n)}function u1(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=ku(),wt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function gp(e){var n=Ee().memoizedState;return u1({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function pp(e,n){return zu(4,2,e,n)}function yp(e,n){return zu(4,4,e,n)}function _p(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vp(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,_p.bind(null,n,e),s)}function bf(){}function Ep(e,n){var s=Ee();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&hf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Tp(e,n){var s=Ee();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&hf(n,l[1]))return l[0];if(l=e(),Ur){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[l,n],l}function Af(e,n,s){return s===void 0||(Qi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=by(),wt.lanes|=e,Ms|=e,s)}function bp(e,n,s,l){return Tn(s,n)?s:Sa.current!==null?(e=Af(e,s,l),Tn(e,n)||(Ne=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Ot&261930)===0?(Ne=!0,e.memoizedState=s):(e=by(),wt.lanes|=e,Ms|=e,n)}function Ap(e,n,s,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,Rf(e,!1,n,s);try{var R=h(),z=H.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=s1(R,l);Ql(e,n,G,Cn(e))}else Ql(e,n,l,Cn(e))}catch(Y){Ql(e,n,{then:function(){},status:"rejected",reason:Y},Cn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function c1(){}function Sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Sp(e).queue;Ap(e,h,n,ut,s===null?c1:function(){return wp(e),s(l)})}function Sp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wp(e){var n=Sp(e);n.next===null&&(n=e.alternate.memoizedState),Ql(e,n.next.queue,{},Cn())}function wf(){return Qe(uo)}function Rp(){return Ee().memoizedState}function Cp(){return Ee().memoizedState}function h1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Cn();e=Cs(s);var l=Is(n,e,s);l!==null&&(pn(l,n,s),Bl(l,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function f1(e,n,s){var l=Cn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?Np(n,s):(s=qh(e,n,s,l),s!==null&&(pn(s,e,l),xp(s,n,l)))}function Ip(e,n,s){var l=Cn();Ql(e,n,s,l)}function Ql(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))Np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,g))return Eu(e,n,h,0),se===null&&vu(),!1}catch{}if(s=qh(e,n,h,l),s!==null)return pn(s,e,l),xp(s,n,l),!0}return!1}function Rf(e,n,s,l){if(l={lane:2,revertLane:sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=qh(e,s,l,2),n!==null&&pn(n,e,2)}function ju(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Np(e,n){wa=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,ml(e,s)}}var Kl={readContext:Qe,use:Uu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Kl.useEffectEvent=de;var Dp={readContext:Qe,use:Uu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:mp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,_p.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=on();n=n===void 0?null:n;var l=e();if(Ur){Nn(!0);try{e()}finally{Nn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=on();if(s!==void 0){var h=s(n);if(Ur){Nn(!0);try{s(n)}finally{Nn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=f1.bind(null,wt,e),[l.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Ip.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=on();return Af(s,e,n)},useTransition:function(){var e=vf(!1);return e=Ap.bind(null,wt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=wt,h=on();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(Ot&127)!==0||$g(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mp(tp.bind(null,l,f,e),[e]),l.flags|=2048,Ca(9,{destroy:void 0},Wg.bind(null,l,f,s,n),null),s},useId:function(){var e=on(),n=se.identifierPrefix;if(Lt){var s=Ai,l=bi;s=(l&~(1<<32-ye(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Vu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=r1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:up,useActionState:up,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return on().memoizedState=h1.bind(null,wt)},useEffectEvent:function(e){var n=on(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Qe,use:Uu,useCallback:Ep,useContext:Qe,useEffect:Tf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:Lu,useRef:dp,useState:function(){return Lu(Ki)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Ee();return bp(s,ee.memoizedState,e,n)},useTransition:function(){var e=Lu(Ki)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:Fl(e),n]},useSyncExternalStore:Jg,useId:Rp,useHostTransitionStatus:wf,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var s=Ee();return ip(s,ee,e,n)},useMemoCache:pf,useCacheRefresh:Cp};Cf.useEffectEvent=gp;var Op={readContext:Qe,use:Uu,useCallback:Ep,useContext:Qe,useEffect:Tf,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:_f,useRef:dp,useState:function(){return _f(Ki)},useDebugValue:bf,useDeferredValue:function(e,n){var s=Ee();return ee===null?Af(s,e,n):bp(s,ee.memoizedState,e,n)},useTransition:function(){var e=_f(Ki)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:Fl(e),n]},useSyncExternalStore:Jg,useId:Rp,useHostTransitionStatus:wf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var s=Ee();return ee!==null?ip(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Cp};Op.useEffectEvent=gp;function If(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Cn(),h=Cs(l);h.payload=n,s!=null&&(h.callback=s),n=Is(e,h,l),n!==null&&(pn(n,e,l),Bl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Cn(),h=Cs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Is(e,h,l),n!==null&&(pn(n,e,l),Bl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Cn(),l=Cs(s);l.tag=2,n!=null&&(l.callback=n),n=Is(e,l,s),n!==null&&(pn(n,e,s),Bl(n,e,s))}};function Mp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Ml(s,l)||!Ml(h,f):!0}function Vp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kp(e){_u(e)}function Up(e){console.error(e)}function Lp(e){_u(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Pp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function xf(e,n,s){return s=Cs(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function zp(e){return e=Cs(e),e.tag=3,e}function jp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Pp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Pp(n,s,l),typeof h!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function d1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return zn===null?Wu():s.alternate===null&&me===0&&(me=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),ed(e,l,h)),!1;case 22:return s.flags|=65536,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),ed(e,l,h)),!1}throw Error(a(435,s.tag))}return ed(e,l,h),Wu(),!1}if(Lt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(e=Error(a(422),{cause:l}),Ul(kn(e,s)))):(l!==Yh&&(n=Error(a(423),{cause:l}),Ul(kn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=kn(l,s),h=xf(e.stateNode,l,h),af(e,h),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:l});if(f=kn(f,s),eo===null?eo=[f]:eo.push(f),me!==4&&(me=2),n===null)return!0;l=kn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=xf(s.stateNode,l,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vs===null||!Vs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zp(h),jp(h,e,s,l),af(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),Ne=!1;function Ke(e,n,s,l){n.child=e===null?Gg(n,null,s,l):kr(n,e.child,s,l)}function Bp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Dr(n),l=ff(e,n,s,g,f,h),E=df(),e!==null&&!Ne?(mf(e,n,h),Yi(e,n,h)):(Lt&&E&&Qh(n),n.flags|=1,Ke(e,n,l,h),n.child)}function qp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Hp(e,n,f,l,h)):(e=bu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ml,s(g,l)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=qi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Hp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Ml(f,l)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,zf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Of(e,n,s,l,h)}function Gp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Fp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?Kg(n,f):of(),Yg(n);else return l=n.lanes=536870912,Fp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ru(n,f.cachePool),Kg(n,f),xs(),n.memoizedState=null):(e!==null&&Ru(n,null),of(),xs());return Ke(e,n,h,s),n.child}function Yl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fp(e,n,s,l,h){var f=ef();return f=f===null?null:{parent:Ce._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ru(n,null),of(),Yg(n),e!==null&&va(e,n,l,!0),n.childLanes=h,null}function qu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qp(e,n,s){return kr(n,e.child,null,s),e=qu(n,n.pendingProps),e.flags|=2,Sn(n),n.memoizedState=null,e}function m1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=qu(n,l),n.lanes=536870912,Yl(null,e);if(cf(n),(e=ae)?(e=s_(e,Pn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,Fe=n,ae=null)):e=null,e===null)throw Ss(n);return n.lanes=536870912,null}return qu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Qp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||va(e,n,s,!1),h=(s&e.childLanes)!==0,Ne||h){if(l=se,l!==null&&(g=gl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Cr(e,g),pn(l,e,g),Df;Wu(),n=Qp(e,n,s)}else e=f.treeContext,ae=jn(g.nextSibling),Fe=n,Lt=!0,As=null,Pn=!1,e!==null&&Og(n,e),n=qu(n,l),n.flags|=4096;return n}return e=qi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,l,h){return Dr(n),s=ff(e,n,s,l,void 0,h),l=df(),e!==null&&!Ne?(mf(e,n,h),Yi(e,n,h)):(Lt&&l&&Qh(n),n.flags|=1,Ke(e,n,s,h),n.child)}function Kp(e,n,s,l,h,f){return Dr(n),n.updateQueue=null,s=Zg(n,l,s,h),Xg(e),l=df(),e!==null&&!Ne?(mf(e,n,f),Yi(e,n,f)):(Lt&&l&&Qh(n),n.flags|=1,Ke(e,n,s,f),n.child)}function Yp(e,n,s,l,h){if(Dr(n),n.stateNode===null){var f=ga,g=s.contextType;typeof g=="object"&&g!==null&&(f=Qe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Qe(g):ga,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Hl(n,l,f,h),ql(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Lr(s,E);f.props=R;var z=f.context,G=s.contextType;g=ga,typeof G=="object"&&G!==null&&(g=Qe(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Vp(n,f,l,g),Rs=!1;var j=n.memoizedState;f.state=j,Hl(n,l,f,h),ql(),z=n.memoizedState,E||j!==z||Rs?(typeof Y=="function"&&(If(n,s,Y,l),z=n.memoizedState),(R=Rs||Mp(n,s,R,l,j,z,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,G=Lr(s,g),f.props=G,Y=n.pendingProps,j=f.context,z=s.contextType,R=ga,typeof z=="object"&&z!==null&&(R=Qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==R)&&Vp(n,f,l,R),Rs=!1,j=n.memoizedState,f.state=j,Hl(n,l,f,h),ql();var q=n.memoizedState;g!==Y||j!==q||Rs||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(If(n,s,E,l),q=n.memoizedState),(G=Rs||Mp(n,s,G,l,j,q,R)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Hu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=kr(n,e.child,null,h),n.child=kr(n,null,s,h)):Ke(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function Xp(e,n,s,l){return Nr(),n.flags|=256,Ke(e,n,s,l),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:Pg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Rn),e}function Zp(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Ns(n):xs(),(e=ae)?(e=s_(e,Pn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:bi,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,Fe=n,ae=null)):e=null,e===null)throw Ss(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(xs(),h=n.mode,E=Gu({mode:"hidden",children:E},h),l=Ir(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Vf(s),l.childLanes=kf(e,g,s),n.memoizedState=Mf,Yl(null,l)):(Ns(n),Uf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ns(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),E=l.fallback,h=n.mode,l=Gu({mode:"visible",children:l.children},h),E=Ir(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,kr(n,e.child,null,s),l=n.child,l.memoizedState=Vf(s),l.childLanes=kf(e,g,s),n.memoizedState=Mf,n=Yl(null,l));else if(Ns(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Ul({value:l,source:null,stack:null}),n=Lf(e,n,s)}else if(Ne||va(e,n,s,!1),g=(s&e.childLanes)!==0,Ne||g){if(g=se,g!==null&&(l=gl(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Cr(e,l),pn(g,e,l),Df;pd(E)||Wu(),n=Lf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ae=jn(E.nextSibling),Fe=n,Lt=!0,As=null,Pn=!1,e!==null&&Og(n,e),n=Uf(n,l.children),n.flags|=4096);return n}return h?(xs(),E=l.fallback,h=n.mode,R=e.child,z=R.sibling,l=qi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=qi(z,E):(E=Ir(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Yl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(R=Ce._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Pg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=kf(e,g,s),n.memoizedState=Mf,Yl(e.child,l)):(Ns(n),s=e.child,e=s.sibling,s=qi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=bn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return kr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Jh(e.return,n,s)}function Pf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function $p(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=ve.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(ve,g),Ke(e,n,l,s),l=Lt?kl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,s,n);else if(e.tag===19)Jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,l);break;case"together":Pf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Yi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ms|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function g1(e,n,s){switch(n.tag){case 3:pe(n,n.stateNode.containerInfo),ws(n,Ce,e.memoizedState.cache),Nr();break;case 27:case 5:Gn(n);break;case 4:pe(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ns(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zp(e,n,s):(Ns(n),e=Yi(e,n,s),e!==null?e.sibling:null);Ns(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(va(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return $p(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(ve,ve.current),l)break;return null;case 22:return n.lanes=0,Gp(e,n,s,n.pendingProps);case 24:ws(n,Ce,e.memoizedState.cache)}return Yi(e,n,s)}function Wp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return Ne=!1,g1(e,n,s);Ne=(e.flags&131072)!==0}else Ne=!1,Lt&&(n.flags&1048576)!==0&&Dg(n,kl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Mr(n.elementType),n.type=e,typeof e=="function")Hh(e)?(l=Lr(e,l),n.tag=1,n=Yp(null,n,e,l,s)):(n.tag=0,n=Of(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Kt){n.tag=11,n=Bp(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=qp(null,n,e,l,s);break t}}throw n=Xt(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Lr(l,n.pendingProps),Yp(e,n,l,h,s);case 3:t:{if(pe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Hl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,ws(n,Ce,l),l!==f.cache&&$h(n,[Ce],s,!0),ql(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xp(e,n,l,s);break t}else if(l!==h){h=kn(Error(a(424)),n),Ul(h),n=Xp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=jn(e.firstChild),Fe=n,Lt=!0,As=null,Pn=!0,s=Gg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Nr(),l===h){n=Yi(e,n,s);break t}Ke(e,n,l,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,l=ac(At.current).createElement(s),l[Se]=n,l[Pe]=e,Ye(l,s,e),we(l),n.stateNode=l):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Gn(n),e===null&&Lt&&(l=n.stateNode=l_(n.type,n.pendingProps,At.current),Fe=n,Pn=!0,h=ae,Ps(n.type)?(_d=h,ae=jn(l.firstChild)):ae=h),Ke(e,n,n.pendingProps.children,s),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=l=ae)&&(l=F1(l,n.type,n.pendingProps,Pn),l!==null?(n.stateNode=l,Fe=n,ae=jn(l.firstChild),Pn=!1,h=!0):h=!1),h||Ss(n)),Gn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,dd(h,f)?l=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,a1,null,null,s),uo._currentValue=h),Hu(e,n),Ke(e,n,l,s),n.child;case 6:return e===null&&Lt&&((e=s=ae)&&(s=Q1(s,n.pendingProps,Pn),s!==null?(n.stateNode=s,Fe=n,ae=null,e=!0):e=!1),e||Ss(n)),null;case 13:return Zp(e,n,s);case 4:return pe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=kr(n,null,l,s):Ke(e,n,l,s),n.child;case 11:return Bp(e,n,n.type,n.pendingProps,s);case 7:return Ke(e,n,n.pendingProps,s),n.child;case 8:return Ke(e,n,n.pendingProps.children,s),n.child;case 12:return Ke(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ws(n,n.type,l.value),Ke(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Dr(n),h=Qe(h),l=l(h),n.flags|=1,Ke(e,n,l,s),n.child;case 14:return qp(e,n,n.type,n.pendingProps,s);case 15:return Hp(e,n,n.type,n.pendingProps,s);case 19:return $p(e,n,s);case 31:return m1(e,n,s);case 22:return Gp(e,n,s,n.pendingProps);case 24:return Dr(n),l=Qe(Ce),e===null?(h=ef(),h===null&&(h=se,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},sf(n),ws(n,Ce,h)):((e.lanes&s)!==0&&(rf(e,n),Hl(n,null,null,s),ql()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,Ce,l)):(l=f.cache,ws(n,Ce,l),l!==h.cache&&$h(n,[Ce],s,!0))),Ke(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Xi(e){e.flags|=4}function jf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Vr=Iu,nf}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(Ry())e.flags|=8192;else throw Vr=Iu,nf}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jo():536870912,e.lanes|=n,Da|=n)}function Xl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function p1(e,n,s){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Fi(Ce),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Xi(n),f!==null?(le(n),ty(n,f)):(le(n),jf(n,h,null,l,s))):f?f!==e.memoizedState?(Xi(n),le(n),ty(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Xi(n),le(n),jf(n,h,e,l,s)),null;case 27:if(nt(n),s=At.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=st.current,_a(n)?Mg(n):(e=l_(h,l,s),n.stateNode=e,Xi(n))}return le(n),null;case 5:if(nt(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=st.current,_a(n))Mg(n);else{var g=ac(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Se]=n,f[Pe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ye(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Xi(n)}}return le(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Xi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=At.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Fe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Zy(e.nodeValue,s)),e||Ss(n,!0)}else e=ac(e).createTextNode(l),e[Se]=n,n.stateNode=e}return le(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=_a(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Sn(n),n):(Sn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Sn(n),n):(Sn(n),null)}return Sn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Fu(n,n.updateQueue),le(n),null);case 4:return re(),e===null&&od(n.stateNode.containerInfo),le(n),null;case 10:return Fi(n.type),le(n),null;case 19:if(K(ve),l=n.memoizedState,l===null)return le(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Xl(l,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Xl(l,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ig(s,e),s=s.sibling;return tt(ve,ve.current&1|2),Lt&&Hi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&an()>Zu&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Xl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return le(n),null}else 2*an()-l.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,h=!0,Xl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=an(),e.sibling=null,s=ve.current,tt(ve,h?s&1|2:s&1),Lt&&Hi(n,l.treeForkCount),e):(le(n),null);case 22:case 23:return Sn(n),uf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&Fu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&K(Or),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Fi(Ce),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function y1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Fi(Ce),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return nt(n),null;case 31:if(n.memoizedState!==null){if(Sn(n),n.alternate===null)throw Error(a(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Sn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(ve),null;case 4:return re(),null;case 10:return Fi(n.type),null;case 22:case 23:return Sn(n),uf(),e!==null&&K(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Fi(Ce),null;case 25:return null;default:return null}}function ey(e,n){switch(Kh(n),n.tag){case 3:Fi(Ce),re();break;case 26:case 27:case 5:nt(n);break;case 4:re();break;case 31:n.memoizedState!==null&&Sn(n);break;case 13:Sn(n);break;case 19:K(ve);break;case 10:Fi(n.type);break;case 22:case 23:Sn(n),uf(),e!==null&&K(Or);break;case 24:Fi(Ce)}}function Zl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function Ds(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,z=E;try{z()}catch(G){$t(h,R,G)}}}l=l.next}while(l!==f)}}catch(G){$t(n,n.return,G)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qg(n,s)}catch(l){$t(e,e.return,l)}}}function iy(e,n,s){s.props=Lr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){$t(e,n,l)}}function Jl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){$t(e,n,h)}}function Si(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Bf(e,n,s){try{var l=e.stateNode;z1(l,e.type,s,n),l[Pe]=n}catch(h){$t(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ps(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ps(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Xn));else if(l!==4&&(l===27&&Ps(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function Qu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ps(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qu(e,n,s),e=e.sibling;e!==null;)Qu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ye(n,l,s),n[Se]=e,n[Pe]=s}catch(f){$t(e,e.return,f)}}var Zi=!1,xe=!1,Gf=!1,ly=typeof WeakSet=="function"?WeakSet:Set,je=null;function _1(e,n){if(e=e.containerInfo,hd=dc,e=vg(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,z=0,G=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||l!==0&&Y.nodeType!==3||(R=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++G===l&&(R=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},dc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var at=Lr(s.type,h);e=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function oy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:$i(e,s),l&4&&Zl(5,s);break;case 1:if($i(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){$t(s,s.return,g)}else{var h=Lr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){$t(s,s.return,g)}}l&64&&ny(s),l&512&&Jl(s,s.return);break;case 3:if($i(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qg(e,n)}catch(g){$t(s,s.return,g)}}break;case 27:n===null&&l&4&&ay(s);case 26:case 5:$i(e,s),n===null&&l&4&&sy(s),l&512&&Jl(s,s.return);break;case 12:$i(e,s);break;case 31:$i(e,s),l&4&&hy(e,s);break;case 13:$i(e,s),l&4&&fy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=C1.bind(null,s),K1(e,s))));break;case 22:if(l=s.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||xe,h=Zi;var f=xe;Zi=l,(xe=n)&&!f?Wi(e,s,(s.subtreeFlags&8772)!==0):$i(e,s),Zi=h,xe=f}break;case 30:break;default:$i(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,fn=!1;function Ji(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Fn,s)}catch{}switch(s.tag){case 26:xe||Si(s,n),Ji(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||Si(s,n);var l=he,h=fn;Ps(s.type)&&(he=s.stateNode,fn=!1),Ji(e,n,s),ao(s.stateNode),he=l,fn=h;break;case 5:xe||Si(s,n);case 6:if(l=he,h=fn,he=null,Ji(e,n,s),he=l,fn=h,he!==null)if(fn)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{he.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:he!==null&&(fn?(e=he,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):n_(he,s.stateNode));break;case 4:l=he,h=fn,he=s.stateNode.containerInfo,fn=!0,Ji(e,n,s),he=l,fn=h;break;case 0:case 11:case 14:case 15:Ds(2,s,n),xe||Ds(4,s,n),Ji(e,n,s);break;case 1:xe||(Si(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&iy(s,n,l)),Ji(e,n,s);break;case 21:Ji(e,n,s);break;case 22:xe=(l=xe)||s.memoizedState!==null,Ji(e,n,s),xe=l;break;default:Ji(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){$t(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){$t(n,n.return,s)}}function v1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ly),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ly),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var s=v1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=I1.bind(null,e,l);l.then(h,h)}})}function dn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Ps(E.type)){he=E.stateNode,fn=!1;break t}break;case 5:he=E.stateNode,fn=!1;break t;case 3:case 4:he=E.stateNode.containerInfo,fn=!0;break t}E=E.return}if(he===null)throw Error(a(160));cy(f,g,h),he=null,fn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var ei=null;function dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:dn(n,e),mn(e),l&4&&(Ds(3,e,e.return),Zl(3,e),Ds(5,e,e.return));break;case 1:dn(n,e),mn(e),l&512&&(xe||s===null||Si(s,s.return)),l&64&&Zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ei;if(dn(n,e),mn(e),l&512&&(xe||s===null||Si(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ci]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ye(f,l,s),f[Se]=e,we(f),l=f;break t;case"link":var g=d_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Ye(f,l,s),h.head.appendChild(f);break;case"meta":if(g=d_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Ye(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Se]=e,we(f),l=f}e.stateNode=l}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?m_(h,e.type,e.stateNode):f_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:dn(n,e),mn(e),l&512&&(xe||s===null||Si(s,s.return)),s!==null&&l&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(dn(n,e),mn(e),l&512&&(xe||s===null||Si(s,s.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(at){$t(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Gf=!0);break;case 6:if(dn(n,e),mn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(at){$t(e,e.return,at)}}break;case 3:if(uc=null,h=ei,ei=lc(n.containerInfo),dn(n,e),ei=h,mn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(at){$t(e,e.return,at)}Gf&&(Gf=!1,my(e));break;case 4:l=ei,ei=lc(e.stateNode.containerInfo),dn(n,e),mn(e),ei=l;break;case 12:dn(n,e),mn(e);break;case 31:dn(n,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 13:dn(n,e),mn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=an()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=Zi,G=xe;if(Zi=z||h,xe=G||R,dn(n,e),xe=G,Zi=z,mn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Zi||xe||Pr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Y=R.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){$t(R,R.return,at)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(at){$t(R,R.return,at)}}}else if(n.tag===18){if(s===null){R=n;try{var q=R.stateNode;h?i_(q,!0):i_(R.stateNode,!1)}catch(at){$t(R,R.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ku(e,s))));break;case 19:dn(n,e),mn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 30:break;case 21:break;default:dn(n,e),mn(e)}}function mn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ry(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);Qu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(hn(g,""),s.flags&=-33);var E=qf(e);Qu(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=qf(e);Hf(e,z,R);break;default:throw Error(a(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $i(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),Pr(n);break;case 1:Si(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Pr(n);break;case 27:ao(n.stateNode);case 26:case 5:Si(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function Wi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Wi(h,f,s),Zl(4,f);break;case 1:if(Wi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Fg(R[h],E)}catch(z){$t(l,l.return,z)}}s&&g&64&&ny(f),Jl(f,f.return);break;case 27:ay(f);case 26:case 5:Wi(h,f,s),s&&l===null&&g&4&&sy(f),Jl(f,f.return);break;case 12:Wi(h,f,s);break;case 31:Wi(h,f,s),s&&g&4&&hy(h,f);break;case 13:Wi(h,f,s),s&&g&4&&fy(h,f);break;case 22:f.memoizedState===null&&Wi(h,f,s),Jl(f,f.return);break;case 30:break;default:Wi(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ll(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ll(e))}function ni(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(e,n,s,l),n=n.sibling}function gy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,s,l),h&2048&&Zl(9,n);break;case 1:ni(e,n,s,l);break;case 3:ni(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ll(e)));break;case 12:if(h&2048){ni(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){$t(n,n.return,R)}}else ni(e,n,s,l);break;case 31:ni(e,n,s,l);break;case 13:ni(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,s,l):$l(e,n):f._visibility&2?ni(e,n,s,l):(f._visibility|=2,Ia(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:ni(e,n,s,l),h&2048&&Qf(n.alternate,n);break;default:ni(e,n,s,l)}}function Ia(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ia(f,g,E,R,h),Zl(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ia(f,g,E,R,h):$l(f,g):(G._visibility|=2,Ia(f,g,E,R,h)),h&&z&2048&&Ff(g.alternate,g);break;case 24:Ia(f,g,E,R,h),h&&z&2048&&Qf(g.alternate,g);break;default:Ia(f,g,E,R,h)}n=n.sibling}}function $l(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:$l(s,l),h&2048&&Ff(l.alternate,l);break;case 24:$l(s,l),h&2048&&Qf(l.alternate,l);break;default:$l(s,l)}n=n.sibling}}var Wl=8192;function Na(e,n,s){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)py(e,n,s),e=e.sibling}function py(e,n,s){switch(e.tag){case 26:Na(e,n,s),e.flags&Wl&&e.memoizedState!==null&&rb(s,ei,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,s);break;case 3:case 4:var l=ei;ei=lc(e.stateNode.containerInfo),Na(e,n,s),ei=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Wl,Wl=16777216,Na(e,n,s),Wl=l):Na(e,n,s));break;default:Na(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function to(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,vy(l,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:to(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:to(e);break;case 12:to(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):to(e);break;default:to(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];je=l,vy(l,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),Yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function vy(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:Ds(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,je=l;else t:for(s=e;je!==null;){l=je;var h=l.sibling,f=l.return;if(uy(l),l===s){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var E1={getCacheForType:function(e){var n=Qe(Ce),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Qe(Ce).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,Ft=0,se=null,Nt=null,Ot=0,Jt=0,wn=null,Os=!1,xa=!1,Kf=!1,ts=0,me=0,Ms=0,zr=0,Yf=0,Rn=0,Da=0,eo=null,gn=null,Xf=!1,Xu=0,Ey=0,Zu=1/0,Ju=null,Vs=null,ke=0,ks=null,Oa=null,es=0,Zf=0,Jf=null,Ty=null,no=0,$f=null;function Cn(){return(Ft&2)!==0&&Ot!==0?Ot&-Ot:H.T!==null?sd():$o()}function by(){if(Rn===0)if((Ot&536870912)===0||Lt){var e=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),Rn=e}else Rn=536870912;return e=An.current,e!==null&&(e.flags|=32),Rn}function pn(e,n,s){(e===se&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Us(e,Ot,Rn,!1)),dr(e,s),((Ft&2)===0||e!==se)&&(e===se&&((Ft&2)===0&&(zr|=s),me===4&&Us(e,Ot,Rn,!1)),wi(e))}function Ay(e,n,s){if((Ft&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Qn(e,n),h=l?S1(e,n):td(e,n,!0),f=l;do{if(h===0){xa&&!l&&Us(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!b1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=eo;var R=E.current.memoizedState.isDehydrated;if(R&&(Ma(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!R){E.errorRecoveryDisabledLanes|=f,zr|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Us(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Us(l,n,Rn,!Os);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-an(),10<h)){if(Us(l,n,Rn,!Os),li(l,0,!0)!==0)break t;es=n,l.timeoutHandle=t_(Sy.bind(null,l,s,gn,Ju,Xf,n,Rn,zr,Da,Os,f,"Throttled",-0,0),h);break t}Sy(l,s,gn,Ju,Xf,n,Rn,zr,Da,Os,f,null,-0,0)}}break}while(!0);wi(e)}function Sy(e,n,s,l,h,f,g,E,R,z,G,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},py(n,f,Y);var at=(f&62914560)===f?Xu-an():(f&4194048)===f?Ey-an():0;if(at=ab(Y,at),at!==null){es=f,e.cancelPendingCommit=at(Oy.bind(null,e,n,f,s,l,h,g,E,R,G,Y,null,j,q)),Us(e,f,g,!z);return}}Oy(e,n,f,s,l,h,g,E,R)}function b1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Tn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Us(e,n,s,l){n&=~Yf,n&=~zr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-ye(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&mr(e,s,n)}function $u(){return(Ft&6)===0?(io(0),!1):!0}function Wf(){if(Nt!==null){if(Jt===0)var e=Nt.return;else e=Nt,Gi=xr=null,gf(e),Aa=null,zl=0,e=Nt;for(;e!==null;)ey(e.alternate,e),e=e.return;Nt=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,q1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),es=0,Wf(),se=e,Nt=s=qi(e.current,null),Ot=n,Jt=0,wn=null,Os=!1,xa=Qn(e,n),Kf=!1,Da=Rn=Yf=zr=Ms=me=0,gn=eo=null,Xf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-ye(l),f=1<<h;n|=e[h],l&=~f}return ts=n,vu(),s}function wy(e,n){wt=null,H.H=Kl,n===ba||n===Cu?(n=Bg(),Jt=3):n===nf?(n=Bg(),Jt=4):Jt=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Nt===null&&(me=1,Bu(e,kn(n,e.current)))}function Ry(){var e=An.current;return e===null?!0:(Ot&4194048)===Ot?zn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===zn:!1}function Cy(){var e=H.H;return H.H=Kl,e===null?Kl:e}function Iy(){var e=H.A;return H.A=E1,e}function Wu(){me=4,Os||(Ot&4194048)!==Ot&&An.current!==null||(xa=!0),(Ms&134217727)===0&&(zr&134217727)===0||se===null||Us(se,Ot,Rn,!1)}function td(e,n,s){var l=Ft;Ft|=2;var h=Cy(),f=Iy();(se!==e||Ot!==n)&&(Ju=null,Ma(e,n)),n=!1;var g=me;t:do try{if(Jt!==0&&Nt!==null){var E=Nt,R=wn;switch(Jt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=Jt;if(Jt=0,wn=null,Va(e,E,R,z),s&&xa){g=0;break t}break;default:z=Jt,Jt=0,wn=null,Va(e,E,R,z)}}A1(),g=me;break}catch(G){wy(e,G)}while(!0);return n&&e.shellSuspendCounter++,Gi=xr=null,Ft=l,H.H=h,H.A=f,Nt===null&&(se=null,Ot=0,vu()),g}function A1(){for(;Nt!==null;)Ny(Nt)}function S1(e,n){var s=Ft;Ft|=2;var l=Cy(),h=Iy();se!==e||Ot!==n?(Ju=null,Zu=an()+500,Ma(e,n)):xa=Qn(e,n);t:do try{if(Jt!==0&&Nt!==null){n=Nt;var f=wn;e:switch(Jt){case 1:Jt=0,wn=null,Va(e,n,f,1);break;case 2:case 9:if(zg(f)){Jt=0,wn=null,xy(n);break}n=function(){Jt!==2&&Jt!==9||se!==e||(Jt=7),wi(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:zg(f)?(Jt=0,wn=null,xy(n)):(Jt=0,wn=null,Va(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var E=Nt;if(g?g_(g):E.stateNode.complete){Jt=0,wn=null;var R=E.sibling;if(R!==null)Nt=R;else{var z=E.return;z!==null?(Nt=z,tc(z)):Nt=null}break e}}Jt=0,wn=null,Va(e,n,f,5);break;case 6:Jt=0,wn=null,Va(e,n,f,6);break;case 8:Wf(),me=6;break t;default:throw Error(a(462))}}w1();break}catch(G){wy(e,G)}while(!0);return Gi=xr=null,H.H=l,H.A=h,Ft=s,Nt!==null?0:(se=null,Ot=0,vu(),me)}function w1(){for(;Nt!==null&&!Nh();)Ny(Nt)}function Ny(e){var n=Wp(e.alternate,e,ts);e.memoizedProps=e.pendingProps,n===null?tc(e):Nt=n}function xy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Kp(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Kp(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:gf(n);default:ey(s,n),n=Nt=Ig(n,ts),n=Wp(s,n,ts)}e.memoizedProps=e.pendingProps,n===null?tc(e):Nt=n}function Va(e,n,s,l){Gi=xr=null,gf(n),Aa=null,zl=0;var h=n.return;try{if(d1(e,h,n,s,Ot)){me=1,Bu(e,kn(s,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;me=1,Bu(e,kn(s,e.current)),Nt=null;return}n.flags&32768?(Lt||l===1?e=!0:xa||(Ot&536870912)!==0?e=!1:(Os=e=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dy(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Os);return}e=n.return;var s=p1(n.alternate,n,ts);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);me===0&&(me=5)}function Dy(e,n){do{var s=y1(e.alternate,e);if(s!==null){s.flags&=32767,Nt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=s}while(e!==null);me=6,Nt=null}function Oy(e,n,s,l,h,f,g,E,R){e.cancelPendingCommit=null;do ec();while(ke!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,s,f,g,E,R),e===se&&(Nt=se=null,Ot=0),Oa=n,ks=e,es=s,Zf=f,Jf=h,Ty=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,N1(fs,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=et.p,et.p=2,g=Ft,Ft|=4;try{_1(e,n,s)}finally{Ft=g,et.p=h,H.T=l}}ke=1,My(),Vy(),ky()}}function My(){if(ke===1){ke=0;var e=ks,n=Oa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=et.p;et.p=2;var h=Ft;Ft|=4;try{dy(n,e);var f=fd,g=vg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&_g(E.ownerDocument.documentElement,E)){if(R!==null&&Uh(E)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,gt=Math.min(R.start,at),ie=R.end===void 0?gt:Math.min(R.end,at);!q.extend&&gt>ie&&(g=ie,ie=gt,gt=g);var U=yg(E,gt),x=yg(E,ie);if(U&&x&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),gt>ie?(q.addRange(P),q.extend(x.node,x.offset)):(P.setEnd(x.node,x.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}dc=!!hd,fd=hd=null}finally{Ft=h,et.p=l,H.T=s}}e.current=n,ke=2}}function Vy(){if(ke===2){ke=0;var e=ks,n=Oa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=et.p;et.p=2;var h=Ft;Ft|=4;try{oy(e,n.alternate,n)}finally{Ft=h,et.p=l,H.T=s}}ke=3}}function ky(){if(ke===4||ke===3){ke=0,Fo();var e=ks,n=Oa,s=es,l=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Oa=ks=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vs=null),Pi(s),n=n.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Fn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=et.p,et.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,et.p=h}}(es&3)!==0&&ec(),wi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===$f?no++:(no=0,$f=e):no=0,io(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ll(n)))}function ec(){return My(),Vy(),ky(),Ly()}function Ly(){if(ke!==5)return!1;var e=ks,n=Zf;Zf=0;var s=Pi(es),l=H.T,h=et.p;try{et.p=32>s?32:s,H.T=null,s=Jf,Jf=null;var f=ks,g=es;if(ke=0,Oa=ks=null,es=0,(Ft&6)!==0)throw Error(a(331));var E=Ft;if(Ft|=4,_y(f.current),gy(f,f.current,g,s),Ft=E,io(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Fn,f)}catch{}return!0}finally{et.p=h,H.T=l,Uy(e,n)}}function Py(e,n,s){n=kn(s,n),n=xf(e.stateNode,n,2),e=Is(e,n,2),e!==null&&(dr(e,2),wi(e))}function $t(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Vs===null||!Vs.has(l))){e=kn(s,e),s=zp(2),l=Is(n,s,2),l!==null&&(jp(s,l,n,e),dr(l,2),wi(l));break}}n=n.return}}function ed(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new T1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=R1.bind(null,e,n,s),n.then(e,e))}function R1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(Ot&s)===s&&(me===4||me===3&&(Ot&62914560)===Ot&&300>an()-Xu?(Ft&2)===0&&Ma(e,0):Yf|=s,Da===Ot&&(Da=0)),wi(e)}function zy(e,n){n===0&&(n=Jo()),e=Cr(e,n),e!==null&&(dr(e,n),wi(e))}function C1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function I1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(e,s)}function N1(e,n){return Ve(e,n)}var nc=null,ka=null,nd=!1,ic=!1,id=!1,Ls=0;function wi(e){e!==ka&&e.next===null&&(ka===null?nc=ka=e:ka=ka.next=e),ic=!0,nd||(nd=!0,D1())}function io(e,n){if(!id&&ic){id=!0;do for(var s=!1,l=nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ye(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Hy(l,f))}else f=Ot,f=li(l,l===se?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qn(l,f)||(s=!0,Hy(l,f));l=l.next}while(s);id=!1}}function x1(){jy()}function jy(){ic=nd=!1;var e=0;Ls!==0&&B1()&&(e=Ls);for(var n=an(),s=null,l=nc;l!==null;){var h=l.next,f=By(l,n);f===0?(l.next=null,s===null?nc=h:s.next=h,h===null&&(ka=s)):(s=l,(e!==0||(f&3)!==0)&&(ic=!0)),l=h}ke!==0&&ke!==5||io(e),Ls!==0&&(Ls=0)}function By(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ye(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&l)!==0)&&(h[g]=Dh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,s=Ot,s=li(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Qn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&hs(l),Pi(s)){case 2:case 8:s=dl;break;case 32:s=fs;break;case 268435456:s=Qo;break;default:s=fs}return l=qy.bind(null,e),s=Ve(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&hs(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var l=Ot;return l=li(e,e===se?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ay(e,l,n),By(e,an()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Hy(e,n){if(ec())return null;Ay(e,n,!0)}function D1(){H1(function(){(Ft&6)!==0?Ve(fl,x1):jy()})}function sd(){if(Ls===0){var e=Ea;e===0&&(e=ri,ri<<=1,(ri&261888)===0&&(ri=256)),Ls=e}return Ls}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function O1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[Pe]||null).action),g=l.submitter;g&&(n=(n=g[Pe]||null)?Gy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new _i("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var R=g?Fy(h,g):new FormData(h);Sf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Fy(h,g):new FormData(h),Sf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],M1=ad.toLowerCase(),V1=ad[0].toUpperCase()+ad.slice(1);ti(M1,"on"+V1)}ti(bg,"onAnimationEnd"),ti(Ag,"onAnimationIteration"),ti(Sg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(ZT,"onTransitionRun"),ti(JT,"onTransitionStart"),ti($T,"onTransitionCancel"),ti(wg,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){_u(G)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(E=l[g],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){_u(G)}h.currentTarget=null,f=R}}}}function xt(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var l=e+"__bubble";s.has(l)||(Ky(n,e,2,!1),s.add(l))}function ld(e,n,s){var l=0;n&&(l|=4),Ky(s,e,l,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[sc]){e[sc]=!0,pl.forEach(function(s){s!=="selectionchange"&&(k1.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,ld("selectionchange",!1,n))}}function Ky(e,n,s,l){switch(b_(n)){case 2:var h=ub;break;case 8:h=cb;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=hi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}E=E.parentNode}}l=l.return}_s(function(){var z=f,G=Dn(s),Y=[];t:{var j=Rg.get(e);if(j!==void 0){var q=_i,at=e;switch(e){case"keypress":if(Tr(s)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":at="focus",q=Ar;break;case"focusout":at="blur",q=Ar;break;case"beforeblur":case"afterblur":q=Ar;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bg:case Ag:case Sg:q=ou;break;case wg:q=T;break;case"scroll":case"scrollend":q=Il;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Bi;break;case"toggle":case"beforetoggle":q=St}var gt=(n&4)!==0,ie=!gt&&(e==="scroll"||e==="scrollend"),U=gt?j!==null?j+"Capture":null:j;gt=[];for(var x=z,P;x!==null;){var Q=x;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=Zn(x,U),Q!=null&&gt.push(ro(x,Q,P))),ie)break;x=x.return}0<gt.length&&(j=new q(j,at,null,s,G),Y.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==wl&&(at=s.relatedTarget||s.fromElement)&&(hi(at)||at[ui]))break t;if((q||j)&&(j=G.window===G?G:(j=G.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=z,at=at?hi(at):null,at!==null&&(ie=c(at),gt=at.tag,at!==ie||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(gt=Nl,Q="onMouseLeave",U="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Bi,Q="onPointerLeave",U="onPointerEnter",x="pointer"),ie=q==null?j:vn(q),P=at==null?j:vn(at),j=new gt(Q,x+"leave",q,s,G),j.target=ie,j.relatedTarget=P,Q=null,hi(G)===z&&(gt=new gt(U,x+"enter",at,s,G),gt.target=P,gt.relatedTarget=ie,Q=gt),ie=Q,q&&at)e:{for(gt=U1,U=q,x=at,P=0,Q=U;Q;Q=gt(Q))P++;Q=0;for(var ht=x;ht;ht=gt(ht))Q++;for(;0<P-Q;)U=gt(U),P--;for(;0<Q-P;)x=gt(x),Q--;for(;P--;){if(U===x||x!==null&&U===x.alternate){gt=U;break e}U=gt(U),x=gt(x)}gt=null}else gt=null;q!==null&&Yy(Y,j,q,gt,!1),at!==null&&ie!==null&&Yy(Y,ie,at,gt,!0)}}t:{if(j=z?vn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var qt=hg;else if(ug(j))if(fg)qt=KT;else{qt=FT;var lt=GT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&sa(z.elementType)&&(qt=hg):qt=QT;if(qt&&(qt=qt(e,z))){cg(Y,qt,s,G);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&bl(j,"number",j.value)}switch(lt=z?vn(z):window,e){case"focusin":(ug(lt)||lt.contentEditable==="true")&&(fa=lt,Lh=z,Vl=null);break;case"focusout":Vl=Lh=fa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Eg(Y,s,G);break;case"selectionchange":if(XT)break;case"keydown":case"keyup":Eg(Y,s,G)}var Rt;if(Gt)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else ha?Sr(e,s)&&(Mt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(Ti&&s.locale!=="ko"&&(ha||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&ha&&(Rt=Cl()):(yi=G,Rl="value"in yi?yi.value:yi.textContent,ha=!0)),lt=rc(z,Mt),0<lt.length&&(Mt=new Ei(Mt,e,null,s,G),Y.push({event:Mt,listeners:lt}),Rt?Mt.data=Rt:(Rt=ca(s),Rt!==null&&(Mt.data=Rt)))),(Rt=Mn?jT(e,s):BT(e,s))&&(Mt=rc(z,"onBeforeInput"),0<Mt.length&&(lt=new Ei("onBeforeInput","beforeinput",null,s,G),Y.push({event:lt,listeners:Mt}),lt.data=Rt)),O1(Y,e,z,s,G)}Qy(Y,n)})}function ro(e,n,s){return{instance:e,listener:n,currentTarget:s}}function rc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,s),h!=null&&l.unshift(ro(e,h,f)),h=Zn(e,n),h!=null&&l.push(ro(e,h,f))),e.tag===3)return l;e=e.return}return[]}function U1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Zn(s,f),z!=null&&g.unshift(ro(s,z,R))):h||(z=Zn(s,f),z!=null&&g.push(ro(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var L1=/\r\n?/g,P1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(L1,`
`).replace(P1,"")}function Zy(e,n){return n=Xy(n),Xy(e)===n}function ne(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&hn(e,""+l);break;case"className":En(e,"class",l);break;case"tabIndex":En(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(e,s,l);break;case"style":Sl(e,l,f);break;case"data":if(n!=="object"){En(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ra(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),na(e,"popover",l);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":na(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ru.get(s)||s,na(e,s,l))}}function cd(e,n,s,l,h,f){switch(s){case"style":Sl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Pe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):na(e,s,l)}}}function Ye(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),l&&ne(e,n,"src",s.src,s,null);return;case"input":xt("invalid",e);var E=f=g=h=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:ne(e,n,l,G,s,null)}}nu(e,f,E,R,z,g,h,!1);return;case"select":xt("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:ne(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?ms(e,!!l,n,!1):s!=null&&ms(e,!!l,s,!0);return;case"textarea":xt("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,g,E,s,null)}gs(e,l,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ne(e,n,R,l,s,null));return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<so.length;l++)xt(so[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,z,l,s,null)}return;default:if(sa(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&cd(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ne(e,n,E,l,s,null))}function z1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,z=null,G=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(q)||ne(e,n,q,null,l,Y)}}for(var j in l){var q=l[j];if(Y=s[j],l.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&ne(e,n,j,q,l,Y)}}ia(e,g,E,R,z,G,f,h);return;case"select":q=g=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||ne(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ne(e,n,h,f,l,R)}n=E,s=g,l=q,j!=null?ms(e,!!s,j,!1):!!l!=!!s&&(n!=null?ms(e,!!s,n,!0):ms(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,l,f)}iu(e,j,q);return;case"option":for(var at in s)j=s[at],s.hasOwnProperty(at)&&j!=null&&!l.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:ne(e,n,at,null,l,j));for(R in l)j=l[R],q=s[R],l.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":ne(e,n,R,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)j=s[gt],s.hasOwnProperty(gt)&&j!=null&&!l.hasOwnProperty(gt)&&ne(e,n,gt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:ne(e,n,z,j,l,q)}return;default:if(sa(n)){for(var ie in s)j=s[ie],s.hasOwnProperty(ie)&&j!==void 0&&!l.hasOwnProperty(ie)&&cd(e,n,ie,void 0,l,j);for(G in l)j=l[G],q=s[G],!l.hasOwnProperty(G)||j===q||j===void 0&&q===void 0||cd(e,n,G,j,l,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&ne(e,n,U,null,l,j);for(Y in l)j=l[Y],q=s[Y],!l.hasOwnProperty(Y)||j===q||j==null&&q==null||ne(e,n,Y,j,l,q)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function j1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Jy(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>E)break;var G=R.transferSize,Y=R.initiatorType;G&&Jy(Y)&&(R=R.responseEnd,g+=G*(R<E?1:(E-z)/(R-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function $y(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function B1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,q1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,H1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(G1)}:t_;function G1(e){setTimeout(function(){throw e})}function Ps(e){return e==="head"}function n_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")ao(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ao(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ci]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&ao(e.ownerDocument.body);s=h}while(s);za(n)}function i_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function F1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ci])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function Q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=jn(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function K1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return jn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function l_(e,n,s){switch(n=ac(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ao(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Bn=new Map,o_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ns=et.d;et.d={f:Y1,r:X1,D:Z1,C:J1,L:$1,m:W1,X:eb,S:tb,M:nb};function Y1(){var e=ns.f(),n=$u();return e||n}function X1(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?wp(n):ns.r(e)}var Ua=typeof document>"u"?null:document;function u_(e,n,s){var l=Ua;if(l&&typeof n=="string"&&n){var h=cn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ye(n,"link",e),we(n),l.head.appendChild(n)))}}function Z1(e){ns.D(e),u_("dns-prefetch",e,null)}function J1(e,n){ns.C(e,n),u_("preconnect",e,n)}function $1(e,n,s){ns.L(e,n,s);var l=Ua;if(l&&e&&n){var h='link[rel="preload"][as="'+cn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+cn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+cn(s.imageSizes)+'"]')):h+='[href="'+cn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}Bn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Bn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(lo(f))||n==="script"&&l.querySelector(oo(f))||(n=l.createElement("link"),Ye(n,"link",e),we(n),l.head.appendChild(n)))}}function W1(e,n){ns.m(e,n);var s=Ua;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Bn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Bn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(oo(f)))return}l=s.createElement("link"),Ye(l,"link",e),we(l),s.head.appendChild(l)}}}function tb(e,n,s){ns.S(e,n,s);var l=Ua;if(l&&e){var h=fi(l).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(lo(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Bn.get(f))&&vd(e,s);var R=g=l.createElement("link");we(R),Ye(R,"link",e),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function eb(e,n){ns.X(e,n);var s=Ua;if(s&&e){var l=fi(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(oo(h)),f||(e=S({src:e,async:!0},n),(n=Bn.get(h))&&Ed(e,n),f=s.createElement("script"),we(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function nb(e,n){ns.M(e,n);var s=Ua;if(s&&e){var l=fi(s).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=s.querySelector(oo(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Bn.get(h))&&Ed(e,n),f=s.createElement("script"),we(f),Ye(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function c_(e,n,s,l){var h=(h=At.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=fi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=fi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(lo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Bn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Bn.set(e,s),f||ib(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=fi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+cn(e)+'"'}function lo(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ib(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ye(n,"link",s),we(n),e.head.appendChild(n))}function Pa(e){return'[src="'+cn(e)+'"]'}function oo(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+cn(s.href)+'"]');if(l)return n.instance=l,we(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),Ye(l,"style",h),oc(l,s.precedence,e),n.instance=l;case"stylesheet":h=La(s.href);var f=e.querySelector(lo(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;l=h_(s),(h=Bn.get(h))&&vd(l,h),f=(e.ownerDocument||e).createElement("link"),we(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ye(f,"link",l),n.state.loading|=4,oc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(oo(f)))?(n.instance=h,we(h),h):(l=s,(h=Bn.get(f))&&(l=S({},s),Ed(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Ye(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oc(l,s.precedence,e));return n.instance}function oc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function d_(e,n,s){if(uc===null){var l=new Map,h=uc=new Map;h.set(s,l)}else h=uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ci]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function sb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function rb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(l.href),f=n.querySelector(lo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,we(f);return}f=n.ownerDocument||n,l=h_(l),(h=Bn.get(h))&&vd(l,h),f=f.createElement("link"),we(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),Ye(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function ab(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*j1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(lb,e),hc=null,cc.call(e))}function lb(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var l=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var uo={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function ob(e,n,s,l,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function p_(e,n,s,l,h,f,g,E,R,z,G,Y){return e=new ob(e,n,s,g,R,z,G,Y,E),n=1,f===!0&&(n|=24),f=bn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},sf(f),e}function y_(e){return e?(e=ga,e):ga}function __(e,n,s,l,h,f){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Cs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Is(e,l,n),s!==null&&(pn(s,e,n),Bl(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Cr(e,67108864);n!==null&&pn(n,e,67108864),bd(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Cn();n=gr(n);var s=Cr(e,n);s!==null&&pn(s,e,n),bd(e,n)}}var dc=!0;function ub(e,n,s,l){var h=H.T;H.T=null;var f=et.p;try{et.p=2,Ad(e,n,s,l)}finally{et.p=f,H.T=h}}function cb(e,n,s,l){var h=H.T;H.T=null;var f=et.p;try{et.p=8,Ad(e,n,s,l)}finally{et.p=f,H.T=h}}function Ad(e,n,s,l){if(dc){var h=Sd(l);if(h===null)ud(e,n,l,mc,s),A_(e,l);else if(fb(h,e,n,s,l))l.stopPropagation();else if(A_(e,l),n&4&&-1<hb.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ai(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ye(g);E.entanglements[1]|=R,g&=~R}wi(f),(Ft&6)===0&&(Zu=an()+500,io(0))}}break;case 31:case 13:E=Cr(f,2),E!==null&&pn(E,f,2),$u(),bd(f,2)}if(f=Sd(l),f===null&&ud(e,n,l,mc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ud(e,n,l,null,s)}}function Sd(e){return e=Dn(e),wd(e)}var mc=null;function wd(e){if(mc=null,e=hi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case fl:return 2;case dl:return 8;case fs:case xh:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var Rd=!1,zs=null,js=null,Bs=null,co=new Map,ho=new Map,qs=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(e,n){switch(e){case"focusin":case"focusout":zs=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":co.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ho.delete(n.pointerId)}}function fo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function fb(e,n,s,l,h){switch(n){case"focusin":return zs=fo(zs,e,n,s,l,h),!0;case"dragenter":return js=fo(js,e,n,s,l,h),!0;case"mouseover":return Bs=fo(Bs,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return co.set(f,fo(co.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,ho.set(f,fo(ho.get(f)||null,e,n,s,l,h)),!0}return!1}function S_(e){var n=hi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){T_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Kn(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);wl=l,s.target.dispatchEvent(l),wl=null}else return n=xn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){gc(e)&&s.delete(n)}function db(){Rd=!1,zs!==null&&gc(zs)&&(zs=null),js!==null&&gc(js)&&(js=null),Bs!==null&&gc(Bs)&&(Bs=null),co.forEach(w_),ho.forEach(w_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,db)))}var yc=null;function R_(e){yc!==e&&(yc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(wd(l||s)===null)continue;break}var f=xn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function za(e){function n(R){return pc(R,e)}zs!==null&&pc(zs,e),js!==null&&pc(js,e),Bs!==null&&pc(Bs,e),co.forEach(n),ho.forEach(n);for(var s=0;s<qs.length;s++){var l=qs[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<qs.length&&(s=qs[0],s.blockedOn===null);)S_(s),s.blockedOn===null&&qs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Pe]||null;if(typeof f=="function")g||R_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),R_(s)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}_c.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Cn();__(s,l,e,n,null,null)},_c.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),$u(),n[ui]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=$o();e={blockedOn:null,target:e,priority:n};for(var s=0;s<qs.length&&n!==0&&n<qs[s].priority;s++);qs.splice(s,0,e),s===0&&S_(e)}};var I_=t.version;if(I_!=="19.2.3")throw Error(a(527,I_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=v(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var mb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Fn=vc.inject(mb),He=vc}catch{}}return go.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=kp,f=Up,g=Lp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=p_(e,1,!1,null,null,s,l,null,h,f,g,C_),e[ui]=n.current,od(e),new Cd(n)},go.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=kp,g=Up,E=Lp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=p_(e,1,!0,n,s??null,l,h,R,f,g,E,C_),n.context=y_(null),s=n.current,l=Cn(),l=gr(l),h=Cs(l),h.callback=null,Is(s,h,l),s=l,n.current.lanes=s,dr(n,s),wi(n),e[ui]=n.current,od(e),new _c(n)},go.version="19.2.3",go}var P_;function wb(){if(P_)return xd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),xd.exports=Sb(),xd.exports}var Rb=wb();const Cb=_0(Rb);const Ib=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nb=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),z_=r=>{const t=Nb(r);return t.charAt(0).toUpperCase()+t.slice(1)},v0=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),xb=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Db={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ob=Qt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>Qt.createElement("svg",{ref:y,...Db,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:v0("lucide",o),...!c&&!xb(p)&&{"aria-hidden":"true"},...p},[...d.map(([v,b])=>Qt.createElement(v,b)),...Array.isArray(c)?c:[c]]));const rn=(r,t)=>{const i=Qt.forwardRef(({className:a,...o},c)=>Qt.createElement(Ob,{ref:c,iconNode:t,className:v0(`lucide-${Ib(z_(r))}`,`lucide-${r}`,a),...o}));return i.displayName=z_(r),i};const Mb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vb=rn("circle-check-big",Mb);const kb=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],j_=rn("credit-card",kb);const Ub=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Vd=rn("image",Ub);const Lb=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Pb=rn("lock",Lb);const zb=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jb=rn("mail",zb);const Bb=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],qb=rn("package",Bb);const Hb=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Gb=rn("phone",Hb);const Fb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qb=rn("plus",Fb);const Kb=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yb=rn("search",Kb);const Xb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zb=rn("settings",Xb);const Jb=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Ec=rn("shopping-cart",Jb);const $b=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wb=rn("square-pen",$b);const tA=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],B_=rn("trash-2",tA);const eA=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],nA=rn("truck",eA);const iA=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],sA=rn("upload",iA);const rA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Tc=rn("x",rA),aA=()=>{};var q_={};const E0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},lA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|v>>6,F=v&63;y||(F=64,d||(M=64)),a.push(i[b],i[S],i[M],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(E0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):lA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||v==null||S==null)throw new oA;const M=c<<2|p>>4;if(a.push(M),v!==64){const F=p<<4&240|v>>2;if(a.push(F),S!==64){const $=v<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class oA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(r){const t=E0(r);return T0.encodeByteArray(t,!0)},jc=function(r){return uA(r).replace(/\./g,"")},b0=function(r){try{return T0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function cA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const hA=()=>cA().__FIREBASE_DEFAULTS__,fA=()=>{if(typeof process>"u"||typeof q_>"u")return;const r=q_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},dA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&b0(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return aA()||hA()||fA()||dA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},A0=r=>rh()?.emulatorHosts?.[r],mA=r=>{const t=A0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},S0=()=>rh()?.config,w0=r=>rh()?.[`_${r}`];class gA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R0(r){return(await fetch(r,{credentials:"include"})).ok}function pA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[jc(JSON.stringify(i)),jc(JSON.stringify(d)),""].join(".")}const Eo={};function yA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Eo))Eo[t]?r.emulator.push(t):r.prod.push(t);return r}function _A(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let H_=!1;function C0(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||Eo[r]===t||Eo[r]||H_)return;Eo[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=yA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{H_=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=_A(a),F=i("text"),$=document.getElementById(F)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;p(mt),b(J,it);const Kt=v();y(Et,ft),mt.append(Et,$,J,Kt),document.body.appendChild(mt)}c?($.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function EA(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function SA(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wA(){return!EA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RA(){try{return typeof indexedDB=="object"}catch{return!1}}function CA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const IA="FirebaseError";class cs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=IA,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?NA(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new cs(o,p,a)}}function NA(r,t){return r.replace(xA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const xA=/\{\$([^}]+)}/g;function DA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Fr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(G_(c)&&G_(d)){if(!Fr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function G_(r){return r!==null&&typeof r=="object"}function Uo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function OA(r,t){const i=new MA(r,t);return i.subscribe.bind(i)}class MA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");VA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=kd),o.error===void 0&&(o.error=kd),o.complete===void 0&&(o.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function VA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function sn(r){return r&&r._delegate?r._delegate:r}class Qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const jr="[DEFAULT]";class kA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new gA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LA(t))try{this.getOrInitializeService({instanceIdentifier:jr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=jr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=jr){return this.instances.has(t)}getOptions(t=jr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:UA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=jr){return this.component?this.component.multipleInstances?t:jr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UA(r){return r===jr?void 0:r}function LA(r){return r.instantiationMode==="EAGER"}class PA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new kA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const zA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},jA=Vt.INFO,BA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},qA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=BA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=jA,this._logHandler=qA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const HA=(r,t)=>t.some(i=>r instanceof i);let F_,Q_;function GA(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FA(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const I0=new WeakMap,Xd=new WeakMap,N0=new WeakMap,Ud=new WeakMap,bm=new WeakMap;function QA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Zs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&I0.set(i,r)}).catch(()=>{}),bm.set(t,r),t}function KA(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||N0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Zs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function YA(r){Zd=r(Zd)}function XA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ld(this),t,...i);return N0.set(a,t.sort?t.sort():[t]),Zs(a)}:FA().includes(r)?function(...t){return r.apply(Ld(this),t),Zs(I0.get(this))}:function(...t){return Zs(r.apply(Ld(this),t))}}function ZA(r){return typeof r=="function"?XA(r):(r instanceof IDBTransaction&&KA(r),HA(r,GA())?new Proxy(r,Zd):r)}function Zs(r){if(r instanceof IDBRequest)return QA(r);if(Ud.has(r))return Ud.get(r);const t=ZA(r);return t!==r&&(Ud.set(r,t),bm.set(t,r)),t}const Ld=r=>bm.get(r);function JA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=Zs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Zs(d.result),y.oldVersion,y.newVersion,Zs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),p}const $A=["get","getKey","getAll","getAllKeys","count"],WA=["put","add","delete","clear"],Pd=new Map;function K_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=WA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||$A.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(p.shift())),(await Promise.all([v[i](...p),o&&y.done]))[0]};return Pd.set(t,c),c}YA(r=>({...r,get:(t,i,a)=>K_(t,i)||r.get(t,i,a),has:(t,i)=>!!K_(t,i)||r.has(t,i)}));class tS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(eS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function eS(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",Y_="0.14.6";const rs=new Tm("@firebase/app"),nS="@firebase/app-compat",iS="@firebase/analytics-compat",sS="@firebase/analytics",rS="@firebase/app-check-compat",aS="@firebase/app-check",lS="@firebase/auth",oS="@firebase/auth-compat",uS="@firebase/database",cS="@firebase/data-connect",hS="@firebase/database-compat",fS="@firebase/functions",dS="@firebase/functions-compat",mS="@firebase/installations",gS="@firebase/installations-compat",pS="@firebase/messaging",yS="@firebase/messaging-compat",_S="@firebase/performance",vS="@firebase/performance-compat",ES="@firebase/remote-config",TS="@firebase/remote-config-compat",bS="@firebase/storage",AS="@firebase/storage-compat",SS="@firebase/firestore",wS="@firebase/ai",RS="@firebase/firestore-compat",CS="firebase",IS="12.6.0";const $d="[DEFAULT]",NS={[Jd]:"fire-core",[nS]:"fire-core-compat",[sS]:"fire-analytics",[iS]:"fire-analytics-compat",[aS]:"fire-app-check",[rS]:"fire-app-check-compat",[lS]:"fire-auth",[oS]:"fire-auth-compat",[uS]:"fire-rtdb",[cS]:"fire-data-connect",[hS]:"fire-rtdb-compat",[fS]:"fire-fn",[dS]:"fire-fn-compat",[mS]:"fire-iid",[gS]:"fire-iid-compat",[pS]:"fire-fcm",[yS]:"fire-fcm-compat",[_S]:"fire-perf",[vS]:"fire-perf-compat",[ES]:"fire-rc",[TS]:"fire-rc-compat",[bS]:"fire-gcs",[AS]:"fire-gcs-compat",[SS]:"fire-fst",[RS]:"fire-fst-compat",[wS]:"fire-vertex","fire-js":"fire-js",[CS]:"fire-js-all"};const Bc=new Map,xS=new Map,Wd=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(i){rs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Za(r){const t=r.name;if(Wd.has(t))return rs.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Bc.values())X_(i,r);for(const i of xS.values())X_(i,r);return!0}function Am(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ii(r){return r==null?!1:r.settings!==void 0}const DS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Js=new ko("app","Firebase",DS);class OS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Js.create("app-deleted",{appName:this._name})}}const sl=IS;function x0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:$d,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Js.create("bad-app-name",{appName:String(o)});if(i||(i=S0()),!i)throw Js.create("no-options");const c=Bc.get(o);if(c){if(Fr(i,c.options)&&Fr(a,c.config))return c;throw Js.create("duplicate-app",{appName:o})}const d=new PA(o);for(const y of Wd.values())d.addComponent(y);const p=new OS(i,a,d);return Bc.set(o,p),p}function D0(r=$d){const t=Bc.get(r);if(!t&&r===$d&&S0())return x0();if(!t)throw Js.create("no-app",{appName:r});return t}function $s(r,t,i){let a=NS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),rs.warn(d.join(" "));return}Za(new Qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const MS="firebase-heartbeat-database",VS=1,Ro="firebase-heartbeat-store";let zd=null;function O0(){return zd||(zd=JA(MS,VS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ro)}catch(i){console.warn(i)}}}}).catch(r=>{throw Js.create("idb-open",{originalErrorMessage:r.message})})),zd}async function kS(r){try{const i=(await O0()).transaction(Ro),a=await i.objectStore(Ro).get(M0(r));return await i.done,a}catch(t){if(t instanceof cs)rs.warn(t.message);else{const i=Js.create("idb-get",{originalErrorMessage:t?.message});rs.warn(i.message)}}}async function Z_(r,t){try{const a=(await O0()).transaction(Ro,"readwrite");await a.objectStore(Ro).put(t,M0(r)),await a.done}catch(i){if(i instanceof cs)rs.warn(i.message);else{const a=Js.create("idb-set",{originalErrorMessage:i?.message});rs.warn(a.message)}}}function M0(r){return`${r.name}!${r.options.appId}`}const US=1024,LS=30;class PS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=J_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>LS){const o=BS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){rs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:a}=zS(this._heartbeatsCache.heartbeats),o=jc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return rs.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function zS(r,t=US){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class jS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RA()?CA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await kS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Z_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(r){return jc(JSON.stringify({version:2,heartbeats:r})).length}function BS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function qS(r){Za(new Qr("platform-logger",t=>new tS(t),"PRIVATE")),Za(new Qr("heartbeat",t=>new PS(t),"PRIVATE")),$s(Jd,Y_,r),$s(Jd,Y_,"esm2020"),$s("fire-js","")}qS("");var HS="firebase",GS="12.7.0";$s(HS,GS,"app");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,V0;(function(){var r;function t(I,A){function C(){}C.prototype=A.prototype,I.F=A.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,k){for(var w=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)w[Xt-2]=arguments[Xt];return A.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,C){C||(C=0);const V=Array(16);if(typeof A=="string")for(var N=0;N<16;++N)V[N]=A.charCodeAt(C++)|A.charCodeAt(C++)<<8|A.charCodeAt(C++)<<16|A.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=A[C++]|A[C++]<<8|A[C++]<<16|A[C++]<<24;A=I.g[0],C=I.g[1],N=I.g[2];let k=I.g[3],w;w=A+(k^C&(N^k))+V[0]+3614090360&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(N^A&(C^N))+V[1]+3905402710&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(C^k&(A^C))+V[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(A^N&(k^A))+V[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(k^C&(N^k))+V[4]+4118548399&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(N^A&(C^N))+V[5]+1200080426&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(C^k&(A^C))+V[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(A^N&(k^A))+V[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(k^C&(N^k))+V[8]+1770035416&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(N^A&(C^N))+V[9]+2336552879&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(C^k&(A^C))+V[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(A^N&(k^A))+V[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(k^C&(N^k))+V[12]+1804603682&4294967295,A=C+(w<<7&4294967295|w>>>25),w=k+(N^A&(C^N))+V[13]+4254626195&4294967295,k=A+(w<<12&4294967295|w>>>20),w=N+(C^k&(A^C))+V[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(A^N&(k^A))+V[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=A+(N^k&(C^N))+V[1]+4129170786&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(A^C))+V[6]+3225465664&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(k^A))+V[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(N^k))+V[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(C^N))+V[5]+3593408605&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(A^C))+V[10]+38016083&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(k^A))+V[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(N^k))+V[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(C^N))+V[9]+568446438&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(A^C))+V[14]+3275163606&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(k^A))+V[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(N^k))+V[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(N^k&(C^N))+V[13]+2850285829&4294967295,A=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(A^C))+V[2]+4243563512&4294967295,k=A+(w<<9&4294967295|w>>>23),w=N+(A^C&(k^A))+V[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^A&(N^k))+V[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=A+(C^N^k)+V[5]+4294588738&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^N)+V[8]+2272392833&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^C)+V[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^A)+V[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^k)+V[1]+2763975236&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^N)+V[4]+1272893353&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^C)+V[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^A)+V[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^k)+V[13]+681279174&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^N)+V[0]+3936430074&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^C)+V[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^A)+V[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(C^N^k)+V[9]+3654602809&4294967295,A=C+(w<<4&4294967295|w>>>28),w=k+(A^C^N)+V[12]+3873151461&4294967295,k=A+(w<<11&4294967295|w>>>21),w=N+(k^A^C)+V[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^A)+V[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=A+(N^(C|~k))+V[0]+4096336452&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~N))+V[7]+1126891415&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~C))+V[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~A))+V[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~k))+V[12]+1700485571&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~N))+V[3]+2399980690&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~C))+V[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~A))+V[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~k))+V[8]+1873313359&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~N))+V[15]+4264355552&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~C))+V[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~A))+V[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=A+(N^(C|~k))+V[4]+4149444226&4294967295,A=C+(w<<6&4294967295|w>>>26),w=k+(C^(A|~N))+V[11]+3174756917&4294967295,k=A+(w<<10&4294967295|w>>>22),w=N+(A^(k|~C))+V[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,A){A===void 0&&(A=I.length);const C=A-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<A;){if(N==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<A;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<A;)if(V[N++]=I[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=A},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[A++]=this.g[C]>>>V&255;return I};function c(I,A){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=A(I)}function d(I,A){this.h=A;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==A||(C[N]=k,V=!1)}this.g=C}var p={};function y(I){return-128<=I&&I<128?c(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function v(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return J(v(-I));const A=[];let C=1;for(let V=0;I>=C;V++)A[V]=I/C|0,C*=4294967296;return new d(A,0)}function b(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return J(b(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=v(Math.pow(A,8));let V=S;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+N),A);N<8?(N=v(Math.pow(A,N)),V=V.j(N).add(v(w))):(V=V.j(C),V=V.add(v(w)))}return V}var S=y(0),M=y(1),F=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-J(this).m();let I=0,A=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if($(this))return"0";if(it(this))return"-"+J(this).toString(I);const A=v(Math.pow(I,6));var C=this;let V="";for(;;){const N=Kt(C,A).g;C=ft(C,N.j(A));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,$(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function $(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=ft(this,I),it(I)?-1:$(I)?0:1};function J(I){const A=I.g.length,C=[];for(let V=0;V<A;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}r.abs=function(){return it(this)?J(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=A;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,k&=65535,w&=65535,C[N]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ft(I,A){return I.add(J(A))}r.j=function(I){if($(this)||$(I))return S;if(it(this))return it(I)?J(this).j(J(I)):J(J(this).j(I));if(it(I))return J(this.j(J(I)));if(this.l(F)<0&&I.l(F)<0)return v(this.m()*I.m());const A=this.g.length+I.g.length,C=[];for(var V=0;V<2*A;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,w=this.i(V)&65535,Xt=I.i(N)>>>16,ge=I.i(N)&65535;C[2*V+2*N]+=w*ge,Et(C,2*V+2*N),C[2*V+2*N+1]+=k*ge,Et(C,2*V+2*N+1),C[2*V+2*N+1]+=w*Xt,Et(C,2*V+2*N+1),C[2*V+2*N+2]+=k*Xt,Et(C,2*V+2*N+2)}for(I=0;I<A;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=A;I<2*A;I++)C[I]=0;return new d(C,0)};function Et(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function mt(I,A){this.g=I,this.h=A}function Kt(I,A){if($(A))throw Error("division by zero");if($(I))return new mt(S,S);if(it(I))return A=Kt(J(I),A),new mt(J(A.g),J(A.h));if(it(A))return A=Kt(I,J(A)),new mt(J(A.g),A.h);if(I.g.length>30){if(it(I)||it(A))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=A;V.l(I)<=0;)C=Wt(C),V=Wt(V);var N=Dt(C,1),k=Dt(V,1);for(V=Dt(V,2),C=Dt(C,2);!$(V);){var w=k.add(V);w.l(I)<=0&&(N=N.add(C),k=w),V=Dt(V,1),C=Dt(C,1)}return A=ft(I,N.j(A)),new mt(N,A)}for(N=S;I.l(A)>=0;){for(C=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=v(C),w=k.j(A);it(w)||w.l(I)>0;)C-=V,k=v(C),w=k.j(A);$(k)&&(k=M),N=N.add(k),I=ft(I,w)}return new mt(N,I)}r.B=function(I){return Kt(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<A;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function Wt(I){const A=I.g.length+1,C=[];for(let V=0;V<A;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Dt(I,A){const C=A>>5;A%=32;const V=I.g.length-C,N=[];for(let k=0;k<V;k++)N[k]=A>0?I.i(k+C)>>>A|I.i(k+C+1)<<32-A:I.i(k+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,V0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,Ws=d}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k0,po,U0,Nc,tm,L0,P0,z0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var W=Array(arguments.length-2),St=2;St<arguments.length;St++)W[St-2]=arguments[St];return m.prototype[L].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let W=0;W<B;W++)u[_+W]=L[W]}else u.push(L)}}class it{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,_){const T=mt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new it(()=>new Kt,u=>u.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Wt,Dt=!1,I=new Et,A=()=>{const u=Promise.resolve(void 0);Wt=()=>{u.then(C)}};function C(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){J(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Dt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Xt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Xt,N),Xt.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),H=0;function et(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function jt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function D(u){const m={};for(const _ in u)m[_]=u[_];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<K.length;B++)_=K[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=At(u,m,T,L);return W>-1?(m=u[W],_||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function yt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function At(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var It="closure_lm_"+(Math.random()*1e6|0),pe={};function re(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],_,T,L);return null}return _=hl(_),u&&u[ge]?u.J(m,_,p(T)?!!T.capture:!1,L):Gn(u,m,_,!1,T,L)}function Gn(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const W=p(L)?!!L.capture:!!L;let St=Li(u);if(St||(u[It]=St=new st(u)),_=St.add(m,_,T,W,B),_.proxy)return _;if(T=nt(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(L=W),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Bt(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function nt(){function u(_){return m.call(u.src,u.listener,_)}const m=qe;return u}function ct(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)ct(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=hl(_),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=At(m,_,T,L),_>-1&&(ut(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=At(m,_,T,L)),(_=u>-1?m[u]:null)&&Ct(_))}function Ct(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])yt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Bt(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Li(m))?(yt(_,u),_.h==0&&(_.src=null,m[It]=null)):ut(u)}}}function Bt(u){return u in pe?pe[u]:pe[u]="on"+u}function qe(u,m){if(u.da)u=!0;else{m=new Xt(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Ct(u),u=_.call(T,m)}return u}function Li(u){return u=u[It],u instanceof st?u:null}var cl="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(u){return typeof u=="function"?u:(u[cl]||(u[cl]=function(m){return u.handleEvent(m)}),u[cl])}function be(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(be,V),be.prototype[ge]=!0,be.prototype.removeEventListener=function(u,m,_,T){ct(this,u,m,_,T)};function Ve(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),tt(m,L)}L=!0;let B,W;if(_)for(W=_.length-1;W>=0;W--)B=m.g=_[W],L=hs(B,T,!0,m)&&L;if(B=m.g=u,L=hs(B,T,!0,m)&&L,L=hs(B,T,!1,m)&&L,_)for(W=0;W<_.length;W++)B=m.g=_[W],L=hs(B,T,!1,m)&&L}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ut(_[T]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},be.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function hs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==_){const St=W.listener,_e=W.ha||W.src;W.fa&&yt(u.i,W),L=St.call(_e,T)!==!1&&L}}return L&&!T.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fo(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,Fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class an extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){V.call(this),this.h=u,this.g={}}S(hr,V);var fl=[];function dl(u){Pt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ct(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),dl(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=d.JSON.stringify,xh=d.JSON.parse,Qo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ko(){}function Yo(){}var Fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){N.call(this,"d")}S(He,N);function Nn(){N.call(this,"c")}S(Nn,N);var ye={},Xo=null;function Wr(){return Xo=Xo||new be}ye.Ia="serverreachability";function Zo(u){N.call(this,ye.Ia,u)}S(Zo,N);function ri(u){const m=Wr();Ve(m,new Zo(m))}ye.STAT_EVENT="statevent";function fr(u,m){N.call(this,ye.STAT_EVENT,u),this.stat=m}S(fr,N);function Ae(u){const m=Wr();Ve(m,new fr(m,u))}ye.Ja="timingevent";function ai(u,m){N.call(this,ye.Ja,u),this.size=m}S(ai,N);function li(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function Dh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var W="",St=B.split("&");for(let Gt=0;Gt<St.length;Gt++){var _e=St[Gt].split("=");if(_e.length>1){const ce=_e[0];_e=_e[1];const Mn=ce.split("_");W=Mn.length>=2&&Mn[1]=="type"?W+(ce+"="+_e+"&"):W+(ce+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+W})}function Jo(u,m,_,T,L,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+W})}function oi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,_)+(T?" "+T:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}Qn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return fs(B)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gl;function gr(){}S(gr,Ko),gr.prototype.g=function(){return new XMLHttpRequest},gl=new gr;function Pi(u){return encodeURIComponent(String(u))}function $o(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Kn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function ui(u,m,_){u.M=1,u.A=pr(Re(m)),u.u=_,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),ci(u),u.B=Re(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Yn,u.g=du(u.j,_?m:null,!u.u),u.P>0&&(u.O=new an(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(fl[0]=L.toString()),L=fl);for(let B=0;B<L.length;B++){const W=re(_,L[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ri(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Kn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Kn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Jn(this.g),_e=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Ge(this.g)))){this.K||St!=4||_e==7||(_e==8||Gt<=0?ri(3):ri(2)),hi(this);var m=this.g.ca();this.X=m;var _=Mh(this);if(this.o=m==200,Jo(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fi(this,u);else{this.o=!1,this.m=3,Ae(12),vn(this),xn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<_.length;)if(ce=tu(this,_),ce==Pe){St==4&&(this.m=4,Ae(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Se){this.m=4,Ae(15),oi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ce,null),fi(this,ce);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||_.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,_,"[Invalid Chunked Response]"),vn(this),xn(this);else if(_.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),xl(W),W.P=!0,Ae(11))}}else oi(this.i,this.l,_,null),fi(this,_);St==4&&vn(this),this.o&&!this.K&&(St==4?uu(this.j,this):(this.o=!1,ci(this)))}else ji(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),vn(this),xn(this)}}}catch{}};function Mh(u){if(!Wo(u))return u.g.la();const m=Ge(u.g);if(m==="")return"";let _="";const T=m.length,L=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return vn(u),xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Pe:(_=Number(m.substring(_,T)),isNaN(_)?Se:(T+=1,T+_>m.length?Pe:(m=m.slice(T,T+_),u.C=T+_,m)))}Kn.prototype.cancel=function(){this.K=!0,vn(this)};function ci(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=li(v(u.aa,u),m)}function hi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Kn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(ri(),Ae(17)),vn(this),this.m=2,xn(this)):ea(this,this.T-u)};function xn(u){u.j.I==0||u.K||uu(u.j,u)}function vn(u){hi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,dl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function fi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||mi(_.h,u))){if(!u.L&&mi(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)ua(_),Es(_);else break t;Ar(_),Ae(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=li(v(_.Va,_),6e3));di(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ei(_,11)}else if((u.L||_.g==u)&&ua(_),!w(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Gt=L[m];const ce=Gt[0];if(!(ce<=_.K))if(_.K=ce,Gt=Gt[1],_.I==2)if(Gt[0]=="c"){_.M=Gt[1],_.ba=Gt[2];const Mn=Gt[3];Mn!=null&&(_.ka=Mn,_.j.info("VER="+_.ka));const Ti=Gt[4];Ti!=null&&(_.za=Ti,_.j.info("SVER="+_.za));const $n=Gt[5];$n!=null&&typeof $n=="number"&&$n>0&&(T=1.5*$n,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Wn=u.g;if(Wn){const Sr=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var B=T.h;B.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_l(B,B.h),B.h=null))}if(T.G){const ca=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Zt(T.J,T.G,ca))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var W=u;if(T.na=fu(T,T.L?T.ba:null,T.W),W.L){vl(T.h,W);var St=W,_e=T.O;_e&&(St.H=_e),St.D&&(hi(St),ci(St)),T.g=W}else lu(T);_.i.length>0&&vi(_)}else Gt[0]!="stop"&&Gt[0]!="close"||Ei(_,7);else _.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Ei(_,7):Il(_):Gt[0]!="noop"&&_.l&&_.l.qa(Gt),_.A=0)}}ri(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function pl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function di(u){return u.h?1:u.g?u.g.size:0}function mi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _l(u,m){u.g?u.g.add(m):u.h=m}function vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}pl.prototype.cancel=function(){if(this.i=El(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function El(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return F(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof En?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,Tl(this,ru(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),ds(this,m[4]),this.h=gi(m[5]||"",!0),Tl(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}En.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,ia,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,ia,!0),"@"),u.push(Pi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(yr(_,_.charAt(0)=="/"?bl:nu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",yr(_,iu)),u.join("")},En.prototype.resolve=function(u){const m=Re(this);let _=!!u.j;_?ze(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ds(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let W=0;W<L.length;){const St=L[W++];St=="."?T&&W==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==L.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?Tl(m,ru(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Re(u){return new En(u)}function ze(u,m,_){u.j=_?gi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Tl(u,m,_){m instanceof gs?(u.i=m,ra(u.i,u.l)):(_||(m=yr(m,ms)),u.i=new gs(m,u.l))}function Zt(u,m,_){u.i.set(m,_)}function pr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function gi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,cn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,nu=/[#\?:]/g,bl=/[#\?]/g,ms=/[#\?@]/g,iu=/#/g;function gs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=gs.prototype,r.add=function(u,m){hn(this),this.i=null,u=ps(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function su(u,m){hn(u),m=ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Al(u,m){return hn(u),m=ps(u,m),u.g.has(m)}r.forEach=function(u,m){hn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Sl(u,m){hn(u);let _=[];if(typeof m=="string")Al(u,m)&&(_=_.concat(u.g.get(ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return hn(this),this.i=null,u=ps(this,u),Al(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Sl(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,_){su(u,m),_.length>0&&(u.i=null,u.g.set(ps(u,m),F(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Pi(_);_=Sl(this,_);for(let B=0;B<_.length;B++){let W=L;_[B]!==""&&(W+="="+Pi(_[B])),u.push(W)}}return this.i=u.join("&")};function ru(u){const m=new gs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(su(this,T),sa(this,L,_))},u)),u.j=m}function Xn(u,m){const _=new Qn;if(d.Image){const T=new Image;T.onload=b(Dn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Dn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Dn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Dn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wl(u,m){const _=new Qn,T=new AbortController,L=setTimeout(()=>{T.abort(),Dn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Dn(_,"TestPingServer: ok",!0,m):Dn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Dn(_,"TestPingServer: error",!1,m)})}function Dn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function ys(){this.g=new Qo}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(pi,Ko),pi.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(_r,be),r=_r.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_s(this):Zn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,_s(this))},r.Na=function(u){this.g&&(this.response=u,_s(this))},r.ga=function(){this.g&&_s(this)};function _s(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function On(u){let m="";return Pt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function vr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=On(_),typeof u=="string"?_!=null&&Pi(_):Zt(u,m,_))}function te(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(te,be);var yi=/^https?$/i,Rl=["POST","PUT"];r=te.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gl.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Er(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Rl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of _)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Er(this,B)}};function Er(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Cl(u),zi(u)}function Cl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},r.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let W=String(u.D).match(eu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!yi.test(W?W.toLowerCase():"")}_=T}if(_)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var L=Jn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Cl(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ve(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xh(m)}};function Ge(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ji(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var _=$o(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _i(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function vs(u){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_i("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_i("baseRetryDelayMs",5e3,u),this.Za=_i("retryDelaySeedMs",1e4,u),this.Ta=_i("forwardChannelMaxRetries",2,u),this.va=_i("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new pl(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){Ae(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),vi(this)};function Il(u){if(la(u),u.I==3){var m=u.V++,_=Re(u.J);if(Zt(_,"SID",u.M),Zt(_,"RID",m),Zt(_,"TYPE","terminate"),br(u,_),m=new Kn(u,u.j,m),m.M=2,m.A=pr(Re(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ci(m)}hu(u)}function Es(u){u.g&&(xl(u),u.g.cancel(),u.g=null)}function la(u){Es(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function vi(u){if(!yl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Wt||A(),Dt||(Wt(),Dt=!0),I.add(m,u),u.D=0}}function oa(u,m){return di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=li(v(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Kn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=D(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=au(this,L,m),_=Re(this.J),Zt(_,"RID",u),Zt(_,"CVER",22),this.G&&Zt(_,"X-HTTP-Session-Id",this.G),br(this,_),B&&(this.R?m="headers="+Pi(On(B))+"&"+m:this.u&&vr(_,this.u,B)),_l(this.h,L),this.Ra&&Zt(_,"TYPE","init"),this.S?(Zt(_,"$req",m),Zt(_,"SID","null"),L.U=!0,ui(L,_,null)):ui(L,_,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||yl(this.h)||Nl(this))};function Nl(u,m){var _;m?_=m.l:_=u.V++;const T=Re(u.J);Zt(T,"SID",u.M),Zt(T,"RID",_),Zt(T,"AID",u.K),br(u,T),u.u&&u.o&&vr(T,u.u,u.o),_=new Kn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_l(u.h,_),ui(_,T,m)}function br(u,m){u.H&&Pt(u.H,function(_,T){Zt(m,T,_)}),u.l&&Pt({},function(_,T){Zt(m,T,_)})}function au(u,m,_){_=Math.min(u.i.length,_);const T=u.l?v(u.l.Ka,u.l,u):null;t:{var L=u.i;let St=-1;for(;;){const _e=["count="+_];St==-1?_>0?(St=L[0].g,_e.push("ofs="+St)):St=0:_e.push("ofs="+St);let Gt=!0;for(let ce=0;ce<_;ce++){var B=L[ce].g;const Mn=L[ce].map;if(B-=St,B<0)St=Math.max(0,L[ce].g-100),Gt=!1;else try{B="req"+B+"_"||"";try{var W=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ti,$n]of W){let Wn=$n;p($n)&&(Wn=fs($n)),_e.push(B+Ti+"="+encodeURIComponent(Wn))}}catch(Ti){throw _e.push(B+"type="+encodeURIComponent("_badmap")),Ti}}catch{T&&T(Mn)}}if(Gt){W=_e.join("&");break t}}W=void 0}return u=u.i.splice(0,_),m.G=u,W}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Wt||A(),Dt||(Wt(),Dt=!0),I.add(m,u),u.A=0}}function Ar(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=li(v(u.Da,u),cu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=li(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Es(this),ou(this))};function xl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new Kn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=pr(Re(m)),_.u=null,_.R=!0,ta(_,u)}r.Va=function(){this.C!=null&&(this.C=null,Es(this),Ar(this),Ae(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var _=null;if(u.g==m){ua(u),xl(u),u.g=null;var T=2}else if(mi(u.h,m))_=m.G,vl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Wr(),Ve(T,new ai(T,_)),vi(u)}else lu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&oa(u,m)||T==2&&Ar(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function cu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),T=u.Ua;const L=!T;T=new En(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(T,"https"),pr(T),L?Xn(T.toString(),_):wl(T.toString(),_)}else Ae(2);u.I=0,u.l&&u.l.pa(m),hu(u),la(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=El(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,_){var T=_ instanceof En?Re(_):new En(_);if(T.g!="")m&&(T.g=m+"."+T.g),ds(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new En(null);T&&ze(B,T),m&&(B.g=m),L&&ds(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Zt(T,_,m),Zt(T,"VER",u.ka),br(u,T),T}function du(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new pi({ab:_})):new te(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){be.call(this),this.g=new vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Bi(this)}S(ln,be),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Il(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=fs(u),u=_);m.i.push(new we(m.Ya++,u)),m.I==3&&vi(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,ln.Z.N.call(this)};function gu(u){He.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(gu,He);function pu(){Nn.call(this),this.status=1}S(pu,Nn);function Bi(u){this.g=u}S(Bi,mu),Bi.prototype.ra=function(){Ve(this.g,"a")},Bi.prototype.qa=function(u){Ve(this.g,new gu(u))},Bi.prototype.pa=function(u){Ve(this.g,new pu)},Bi.prototype.oa=function(){Ve(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,z0=function(){return new Ts},P0=function(){return Wr()},L0=ye,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Nc=mr,ml.COMPLETE="complete",U0=ml,Yo.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",be.prototype.listen=be.prototype.J,po=Yo,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,k0=te}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const tv="@firebase/firestore",ev="4.9.3";class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let rl="12.7.0";const Kr=new Tm("@firebase/firestore");function ja(){return Kr.logLevel}function rt(r,...t){if(Kr.logLevel<=Vt.DEBUG){const i=t.map(Sm);Kr.debug(`Firestore (${rl}): ${r}`,...i)}}function as(r,...t){if(Kr.logLevel<=Vt.ERROR){const i=t.map(Sm);Kr.error(`Firestore (${rl}): ${r}`,...i)}}function Ja(r,...t){if(Kr.logLevel<=Vt.WARN){const i=t.map(Sm);Kr.warn(`Firestore (${rl}): ${r}`,...i)}}function Sm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,j0(r,a,i)}function j0(r,t,i){let a=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw as(a),new Error(a)}function Yt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||j0(t,o,a)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class B0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class FS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(tn.UNAUTHENTICATED)))}shutdown(){}}class QS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class KS{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new B0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class YS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class XS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new YS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class nv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new nv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new nv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function JS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=JS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function kt(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return jd(o)===jd(c)?kt(o,c):jd(o)?1:-1}return kt(r.length,t.length)}const $S=55296,WS=57343;function jd(r){const t=r.charCodeAt(0);return t>=$S&&t<=WS}function $a(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const iv="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ci.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),o=Ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class oe extends Ci{construct(t,i,a){return new oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const tw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ci{construct(t,i,a){return new Ze(t,i,a)}static isValidIdentifier(t){return tw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iv}static keyField(){return new Ze([iv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(i)}static emptyPath(){return new Ze([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(oe.fromString(t))}static fromName(t){return new dt(oe.fromString(t).popFirst(5))}static empty(){return new dt(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new oe(t.slice()))}}function q0(r,t,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function ew(r,t,i,a){if(t===!0&&a===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function sv(r){if(!dt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function rv(r){if(dt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function H0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ii(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rm(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Oe(r,t){const i={typeString:r};return t&&(i.value=t),i}function Lo(r,t){if(!H0(r))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}const av=-62135596800,lv=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*lv);return new ue(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<av)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lo(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-av;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Oe("string",ue._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ue(0,0))}static max(){return new vt(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Co=-1;function nw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new nr(o,dt.empty(),t)}function iw(r){return new nr(r.readTime,r.key,Co)}class nr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new nr(vt.min(),dt.empty(),Co)}static max(){return new nr(vt.max(),dt.empty(),Co)}}function sw(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:kt(r.largestBatchId,t.largestBatchId))}const rw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function al(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==rw)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const v=y;i(t[v]).next((b=>{d[v]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function lw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ll(r){return r.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const Cm=-1;function lh(r){return r==null}function qc(r){return r===0&&1/r==-1/0}function ow(r){return typeof r=="number"&&Number.isInteger(r)&&!qc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const G0="";function uw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=ov(t)),t=cw(r.get(i),t);return ov(t)}function cw(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case G0:i+="";break;default:i+=c}}return i}function ov(r){return r+G0+""}function uv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ur(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function F0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||Xe.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Xe.RED,this.left=o??Xe.EMPTY,this.right=c??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Xe(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Xe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Xe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Le{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new cv(this.data.getIterator())}getIteratorFrom(t){return new cv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Le)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Le(this.comparator);return i.data=t,i}}class cv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new In([])}unionWith(t){let i=new Le(Ze.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Q0("Invalid base64 string: "+c):c}})(t);return new Je(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Je(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const hw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=hw.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function sr(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}const K0="server_timestamp",Y0="__type__",X0="__previous_value__",Z0="__local_write_time__";function Im(r){return(r?.mapValue?.fields||{})[Y0]?.stringValue===K0}function oh(r){const t=r.mapValue.fields[X0];return Im(t)?oh(t):t}function Io(r){const t=ir(r.mapValue.fields[Z0].timestampValue);return new ue(t.seconds,t.nanos)}class fw{constructor(t,i,a,o,c,d,p,y,v,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=b}}const Hc="(default)";class No{constructor(t,i){this.projectId=t,this.database=i||Hc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}const J0="__type__",dw="__max__",Sc={mapValue:{}},$0="__vector__",Gc="value";function rr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Im(r)?4:gw(r)?9007199254740991:mw(r)?10:11:pt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const i=rr(r);if(i!==rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Io(r).isEqual(Io(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ir(o.timestampValue),p=ir(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return sr(o.bytesValue).isEqual(sr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Te(o.geoPointValue.latitude)===Te(c.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Te(o.integerValue)===Te(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Te(o.doubleValue),p=Te(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(uv(d)!==uv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!ki(d[y],p[y])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function xo(r,t){return(r.values||[]).find((i=>ki(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=rr(r),a=rr(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Te(c.integerValue||c.doubleValue),y=Te(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return hv(r.timestampValue,t.timestampValue);case 4:return hv(Io(r),Io(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=sr(c),y=sr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let v=0;v<p.length&&v<y.length;v++){const b=kt(p[v],y[v]);if(b!==0)return b}return kt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(Te(c.latitude),Te(d.latitude));return p!==0?p:kt(Te(c.longitude),Te(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return fv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},v=p[Gc]?.arrayValue,b=y[Gc]?.arrayValue,S=kt(v?.values?.length||0,b?.values?.length||0);return S!==0?S:fv(v,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Sc.mapValue&&d===Sc.mapValue)return 0;if(c===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),v=d.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const M=em(y[S],b[S]);if(M!==0)return M;const F=Wa(p[y[S]],v[b[S]]);if(F!==0)return F}return kt(y.length,b.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function hv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const i=ir(r),a=ir(t),o=kt(i.seconds,a.seconds);return o!==0?o:kt(i.nanos,a.nanos)}function fv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Wa(i[o],a[o]);if(c)return c}return kt(i.length,a.length)}function tl(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ir(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return sr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${nm(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function xc(r){switch(rr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(r);return t?16+xc(t):16;case 5:return 2*r.stringValue.length;case 6:return sr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+xc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ur(a.fields,((c,d)=>{o+=c.length+xc(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function Nm(r){return!!r&&"arrayValue"in r}function dv(r){return!!r&&"nullValue"in r}function mv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dc(r){return!!r&&"mapValue"in r}function mw(r){return(r?.mapValue?.fields||{})[J0]?.stringValue===$0}function To(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ur(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=To(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=To(r.arrayValue.values[i]);return t}return{...r}}function gw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===dw}class _n{constructor(t){this.value=t}static empty(){return new _n({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=To(i)}setAll(t){let i=Ze.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=To(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){ur(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new _n(To(this.value))}}function W0(r){const t=[];return ur(r.fields,((i,a)=>{const o=new Ze([i]);if(Dc(a)){const c=W0(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new In(t)}class en{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new en(t,0,vt.min(),vt.min(),vt.min(),_n.empty(),0)}static newFoundDocument(t,i,a,o){return new en(t,1,i,vt.min(),a,o,0)}static newNoDocument(t,i){return new en(t,2,i,vt.min(),vt.min(),_n.empty(),0)}static newUnknownDocument(t,i){return new en(t,3,i,vt.min(),vt.min(),_n.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function gv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function pv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ki(r.position[i],t.position[i]))return!1;return!0}class Qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function pw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class tE{}class Ue extends tE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new _w(t,i,a):i==="array-contains"?new Tw(t,a):i==="in"?new bw(t,a):i==="not-in"?new Aw(t,a):i==="array-contains-any"?new Sw(t,a):new Ue(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new vw(t,a):new Ew(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends tE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ui(t,i)}matches(t){return eE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function eE(r){return r.op==="and"}function nE(r){return yw(r)&&eE(r)}function yw(r){for(const t of r.filters)if(t instanceof Ui)return!1;return!0}function sm(r){if(r instanceof Ue)return r.field.canonicalString()+r.op.toString()+tl(r.value);if(nE(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function iE(r,t){return r instanceof Ue?(function(a,o){return o instanceof Ue&&a.op===o.op&&a.field.isEqual(o.field)&&ki(a.value,o.value)})(r,t):r instanceof Ui?(function(a,o){return o instanceof Ui&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&iE(d,o.filters[p])),!0):!1})(r,t):void pt(19439)}function sE(r){return r instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${tl(i.value)}`})(r):r instanceof Ui?(function(i){return i.op.toString()+" {"+i.getFilters().map(sE).join(" ,")+"}"})(r):"Filter"}class _w extends Ue{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class vw extends Ue{constructor(t,i){super(t,"in",i),this.keys=rE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Ew extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=rE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function rE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class Tw extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Nm(i)&&xo(i.arrayValue,this.value)}}class bw extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xo(this.value.arrayValue,i)}}class Aw extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(xo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xo(this.value.arrayValue,i)}}class Sw extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>xo(this.value.arrayValue,a)))}}class ww{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function yv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new ww(r,t,i,a,o,c,d)}function xm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>tl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>tl(a))).join(",")),t.Te=i}return t.Te}function Dm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!pw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!iE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!pv(r.startAt,t.startAt)&&pv(r.endAt,t.endAt)}function rm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class uh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Rw(r,t,i,a,o,c,d,p){return new uh(r,t,i,a,o,c,d,p)}function Om(r){return new uh(r)}function _v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Cw(r){return r.collectionGroup!==null}function bo(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Le(Ze.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(p=p.add(v.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Qc(c,a))})),i.has(Ze.keyField().canonicalString())||t.Ie.push(new Qc(Ze.keyField(),a))}return t.Ie}function Ni(r){const t=bt(r);return t.Ee||(t.Ee=Iw(t,bo(r))),t.Ee}function Iw(r,t){if(r.limitType==="F")return yv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Qc(o.field,c)}));const i=r.endAt?new Fc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Fc(r.startAt.position,r.startAt.inclusive):null;return yv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t,i){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ch(r,t){return Dm(Ni(r),Ni(t))&&r.limitType===t.limitType}function aE(r){return`${xm(Ni(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>sE(o))).join(", ")}]`),lh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>tl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>tl(o))).join(",")),`Target(${a})`})(Ni(r))}; limitType=${r.limitType})`}function hh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of bo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const v=gv(d,p,y);return d.inclusive?v<=0:v<0})(a.startAt,bo(a),o)||a.endAt&&!(function(d,p,y){const v=gv(d,p,y);return d.inclusive?v>=0:v>0})(a.endAt,bo(a),o))})(r,t)}function Nw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function lE(r){return(t,i)=>{let a=!1;for(const o of bo(r)){const c=xw(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function xw(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),v=p.data.field(c);return y!==null&&v!==null?Wa(y,v):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return F0(this.inner)}size(){return this.innerSize}}const Dw=new fe(dt.comparator);function ls(){return Dw}const oE=new fe(dt.comparator);function yo(...r){let t=oE;for(const i of r)t=t.insert(i.key,i);return t}function uE(r){let t=oE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function qr(){return Ao()}function cE(){return Ao()}function Ao(){return new Jr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Ow=new fe(dt.comparator),Mw=new Le(dt.comparator);function Ut(...r){let t=Mw;for(const i of r)t=t.add(i);return t}const Vw=new Le(kt);function kw(){return Vw}function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function hE(r){return{integerValue:""+r}}function Uw(r,t){return ow(t)?hE(t):Mm(r,t)}class fh{constructor(){this._=void 0}}function Lw(r,t,i){return r instanceof Do?(function(o,c){const d={fields:{[Y0]:{stringValue:K0},[Z0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Im(c)&&(c=oh(c)),c&&(d.fields[X0]=c),{mapValue:d}})(i,t):r instanceof Oo?dE(r,t):r instanceof Mo?mE(r,t):(function(o,c){const d=fE(o,c),p=vv(d)+vv(o.Ae);return im(d)&&im(o.Ae)?hE(p):Mm(o.serializer,p)})(r,t)}function Pw(r,t,i){return r instanceof Oo?dE(r,t):r instanceof Mo?mE(r,t):i}function fE(r,t){return r instanceof Kc?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Do extends fh{}class Oo extends fh{constructor(t){super(),this.elements=t}}function dE(r,t){const i=gE(t);for(const a of r.elements)i.some((o=>ki(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Mo extends fh{constructor(t){super(),this.elements=t}}function mE(r,t){let i=gE(t);for(const a of r.elements)i=i.filter((o=>!ki(o,a)));return{arrayValue:{values:i}}}class Kc extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function vv(r){return Te(r.integerValue||r.doubleValue)}function gE(r){return Nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class zw{constructor(t,i){this.field=t,this.transform=i}}function jw(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Oo&&o instanceof Oo||a instanceof Mo&&o instanceof Mo?$a(a.elements,o.elements,ki):a instanceof Kc&&o instanceof Kc?ki(a.Ae,o.Ae):a instanceof Do&&o instanceof Do})(r.transform,t.transform)}class Bw{constructor(t,i){this.version=t,this.transformResults=i}}class Hn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Hn}static exists(t){return new Hn(void 0,t)}static updateTime(t){return new Hn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class dh{}function pE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Vm(r.key,Hn.none()):new Po(r.key,r.data,Hn.none());{const i=r.data,a=_n.empty();let o=new Le(Ze.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new cr(r.key,a,new In(o.toArray()),Hn.none())}}function qw(r,t,i){r instanceof Po?(function(o,c,d){const p=o.value.clone(),y=Tv(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof cr?(function(o,c,d){if(!Oc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Tv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(yE(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function So(r,t,i,a){return r instanceof Po?(function(c,d,p,y){if(!Oc(c.precondition,d))return p;const v=c.value.clone(),b=bv(c.fieldTransforms,y,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,t,i,a):r instanceof cr?(function(c,d,p,y){if(!Oc(c.precondition,d))return p;const v=bv(c.fieldTransforms,y,d),b=d.data;return b.setAll(yE(c)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Hw(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=fE(a.transform,o||null);c!=null&&(i===null&&(i=_n.empty()),i.set(a.field,c))}return i||null}function Ev(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&$a(a,o,((c,d)=>jw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Po extends dh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class cr extends dh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function yE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Tv(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,Pw(d,p,i[o]))}return a}function bv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Lw(c,d,t))}return a}class Vm extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gw extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Fw{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&qw(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=So(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=So(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=cE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=pE(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>Ev(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>Ev(i,a)))}}class km{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return Ow})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new km(t,i,a,o)}}class Qw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Kw{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,zt;function Yw(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function _E(r){if(r===void 0)return as("GRPC error has no .code"),Z.UNKNOWN;switch(r){case De.OK:return Z.OK;case De.CANCELLED:return Z.CANCELLED;case De.UNKNOWN:return Z.UNKNOWN;case De.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case De.INTERNAL:return Z.INTERNAL;case De.UNAVAILABLE:return Z.UNAVAILABLE;case De.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case De.NOT_FOUND:return Z.NOT_FOUND;case De.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case De.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case De.ABORTED:return Z.ABORTED;case De.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case De.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case De.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(zt=De||(De={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function Xw(){return new TextEncoder}const Zw=new Ws([4294967295,4294967295],0);function Av(r){const t=Xw().encode(r),i=new V0;return i.update(t),new Uint8Array(i.digest())}function Sv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ws([i,a],0),new Ws([o,c],0)]}class Um{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new _o(`Invalid padding: ${i}`);if(a<0)throw new _o(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new _o(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ws.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Ws.fromNumber(a)));return o.compare(Zw)===1&&(o=new Ws([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Av(t),[a,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Um(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Av(t),[a,o]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,zo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new mh(vt.min(),o,new fe(kt),ls(),Ut())}}class zo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new zo(a,i,Ut(),Ut(),Ut())}}class Mc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class vE{constructor(t,i){this.targetId=t,this.Ce=i}}class EE{constructor(t,i,a=Je.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class wv{constructor(){this.ve=0,this.Fe=Rv(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:c})}})),new zo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Rv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Jw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ls(),this.Je=wc(),this.He=wc(),this.Ye=new fe(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(a===0){const d=new dt(c.path);this.et(i,d,en.newNoDocument(d,vt.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=sr(a).toUint8Array()}catch(y){if(y instanceof Q0)return Ja("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Um(d,o,c)}catch(y){return Ja(y instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const y=new dt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,en.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new mh(t,i,this.Ye,this.je,a);return this.je=ls(),this.Je=wc(),this.He=wc(),this.Ye=new fe(kt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new wv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Le(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Le(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new wv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function wc(){return new fe(dt.comparator)}function Rv(){return new fe(dt.comparator)}const $w={asc:"ASCENDING",desc:"DESCENDING"},Ww={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t2={and:"AND",or:"OR"};class e2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||lh(t)?t:{value:t}}function Yc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function TE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function n2(r,t){return Yc(r,t.toTimestamp())}function xi(r){return Yt(!!r,49232),vt.fromTimestamp((function(i){const a=ir(i);return new ue(a.seconds,a.nanos)})(r))}function Lm(r,t){return om(r,t).canonicalString()}function om(r,t){const i=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function bE(r){const t=oe.fromString(r);return Yt(CE(t),10190,{key:t.toString()}),t}function um(r,t){return Lm(r.databaseId,t.path)}function Bd(r,t){const i=bE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(SE(i))}function AE(r,t){return Lm(r.databaseId,t)}function i2(r){const t=bE(r);return t.length===4?oe.emptyPath():SE(t)}function cm(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function SE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Cv(r,t,i){return{name:um(r,t),fields:i.value.mapValue.fields}}function s2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:pt(39313,{state:v})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(v,b){return v.useProto3Json?(Yt(b===void 0||typeof b=="string",58123),Je.fromBase64String(b||"")):(Yt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Je.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(v){const b=v.code===void 0?Z.UNKNOWN:_E(v.code);return new ot(b,v.message||"")})(d);i=new EE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Bd(r,a.document.name),c=xi(a.document.updateTime),d=a.document.createTime?xi(a.document.createTime):vt.min(),p=new _n({mapValue:{fields:a.document.fields}}),y=en.newFoundDocument(o,c,d,p),v=a.targetIds||[],b=a.removedTargetIds||[];i=new Mc(v,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Bd(r,a.document),c=a.readTime?xi(a.readTime):vt.min(),d=en.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Bd(r,a.document),c=a.removedTargetIds||[];i=new Mc([],c,o,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Kw(o,c),p=a.targetId;i=new vE(p,d)}}return i}function r2(r,t){let i;if(t instanceof Po)i={update:Cv(r,t.key,t.value)};else if(t instanceof Vm)i={delete:um(r,t.key)};else if(t instanceof cr)i={update:Cv(r,t.key,t.data),updateMask:m2(t.fieldMask)};else{if(!(t instanceof Gw))return pt(16599,{Vt:t.type});i={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Do)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:n2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function a2(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?xi(o.updateTime):xi(c);return d.isEqual(vt.min())&&(d=xi(c)),new Bw(d,o.transformResults||[])})(i,t)))):[]}function l2(r,t){return{documents:[AE(r,t.path)]}}function o2(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=AE(r,o);const c=(function(v){if(v.length!==0)return RE(Ui.create(v,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((b=>(function(M){return{field:qa(M.field),direction:h2(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(t.endAt)),{ft:i,parent:o}}function u2(r){let t=i2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Yt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=wE(S);return M instanceof Ui&&nE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function($){return new Qc(Ha($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,lh(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(S){const M=!!S.before,F=S.values||[];return new Fc(F,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(S){const M=!S.before,F=S.values||[];return new Fc(F,M)})(i.endAt)),Rw(t,o,d,c,p,"F",y,v)}function c2(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function wE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return Ue.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ha(i.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ue.create(Ha(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ui.create(i.compositeFilter.filters.map((a=>wE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function h2(r){return $w[r]}function f2(r){return Ww[r]}function d2(r){return t2[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Ze.fromServerFormat(r.fieldPath)}function RE(r){return r instanceof Ue?(function(i){if(i.op==="=="){if(mv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(dv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(mv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(dv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:f2(i.op),value:i.value}}})(r):r instanceof Ui?(function(i){const a=i.getFilters().map((o=>RE(o)));return a.length===1?a[0]:{compositeFilter:{op:d2(i.op),filters:a}}})(r):pt(54877,{filter:r})}function m2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function CE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Xs{constructor(t,i,a,o,c=vt.min(),d=vt.min(),p=Je.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class g2{constructor(t){this.yt=t}}function p2(r){const t=u2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}class y2{constructor(){this.Cn=new _2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(nr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class _2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Le(oe.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Le(oe.comparator)).toArray()}}const Iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},IE=41943040;class yn{static withCacheSize(t){return new yn(t,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(IE,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Nv="LruGarbageCollector",v2=1048576;function xv([r,t],[i,a]){const o=kt(r,i);return o===0?kt(t,a):o}class E2{constructor(t){this.Ir=t,this.buffer=new Le(xv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();xv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class T2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Nv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ll(i)?rt(Nv,"Ignoring IndexedDB error during garbage collection: ",i):await al(i)}await this.Vr(3e5)}))}}class b2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ah.ce);const a=new E2(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Iv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Iv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,y,v;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(v=Date.now(),ja()<=Vt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(v-y)+`ms
Total Duration: ${v-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function A2(r,t){return new b2(r,t)}class S2{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class w2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class R2{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&So(a.mutation,o,In.empty(),ue.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const o=qr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=yo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=qr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=ls();const d=Ao(),p=(function(){return Ao()})();return i.forEach(((y,v)=>{const b=a.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof cr)?c=c.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),So(b.mutation,v,b.mutation.getFieldMask(),ue.now())):d.set(v.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((v,b)=>d.set(v,b))),i.forEach(((v,b)=>p.set(v,new w2(b,d.get(v)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ao();let o=new fe(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let b=a.get(y)||In.empty();b=p.applyToLocalView(v,b),a.set(y,b);const S=(o.get(p.batchId)||Ut()).add(y);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),v=y.key,b=y.value,S=cE();b.forEach((M=>{if(!c.has(M)){const F=pE(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,v,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Cw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(qr());let p=Co,y=c;return d.next((v=>X.forEach(v,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{y=y.insert(b,M)}))))).next((()=>this.populateOverlays(t,v,c))).next((()=>this.computeViews(t,y,v,Ut()))).next((b=>({batchId:p,changes:uE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let o=yo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=yo();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const v=(function(S,M){return new uh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,v,a,o).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,en.newInvalidDocument(b)))}));let p=yo();return d.forEach(((y,v)=>{const b=c.get(y);b!==void 0&&So(b.mutation,v,In.empty(),ue.now()),hh(i,v)&&(p=p.insert(y,v))})),p}))}}class C2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:p2(o.bundledQuery),readTime:xi(o.readTime)}})(i)),X.resolve()}}class I2{constructor(){this.overlays=new fe(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=qr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=qr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new fe(((v,b)=>v-b));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let b=c.get(v.largestBatchId);b===null&&(b=qr(),c=c.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const p=qr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>p.set(v,b))),!(p.size()>=o)););return X.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Qw(i,a));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class N2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Pm{constructor(){this.Qr=new Le(Be.$r),this.Ur=new Le(Be.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Be(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Be(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new oe([])),a=new Be(i,t),o=new Be(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new oe([])),a=new Be(i,t),o=new Be(i,t+1);let c=Ut();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Be(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Be{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class x2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Le(Be.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Fw(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Be(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Be(i,0),o=new Be(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Le(kt);return i.forEach((o=>{const c=new Be(o,0),d=new Be(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Be(new dt(c),0);let p=new Le(kt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Be(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Be(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class D2{constructor(t){this.ri=t,this.docs=(function(){return new fe(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():en.newInvalidDocument(i))}getEntries(t,i){let a=ls();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=ls();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||sw(iw(b),a)<=0||(o.has(b.key)||hh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){pt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new O2(this)}getSize(t){return X.resolve(this.size)}}class O2 extends S2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class M2{constructor(t){this.persistence=t,this.si=new Jr((i=>xm(i)),Dm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class NE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new N2,this.referenceDelegate=t(this),this.Pi=new M2(this),this.indexManager=new y2,this.remoteDocumentCache=(function(o){return new D2(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new g2(i),this.Ii=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new I2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new x2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const o=new V2(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class V2 extends aw{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=dt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.pi=new Jr((a=>uw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=A2(this,i)}static mi(t,i){return new Xc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=xc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Ut(),o=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new jm(t,i.fromCache,a,o)}}class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class U2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return wA()?8:lw(nn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new k2;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(ja()<=Vt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ja()<=Vt.DEBUG&&rt("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ja()<=Vt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):X.resolve())}ys(t,i){if(_v(i))return X.resolve(null);let a=Ni(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),a=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const v=this.Ds(i,p);return this.Cs(i,v,d,y.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,v,i,y)}))))})))))}ws(t,i,a,o){return _v(i)||o.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(ja()<=Vt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ba(i)),this.vs(t,d,i,nw(o,Co)).next((p=>p)))}))}Ds(t,i){let a=new Le(lE(t));return i.forEach(((o,c)=>{hh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return ja()<=Vt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(t,i,nr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",L2=3e8;class P2{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new fe(kt),this.xs=new Jr((c=>xm(c)),Dm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new R2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function z2(r,t,i,a){return new P2(r,t,i,a)}async function xE(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ut();for(const v of o){d.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of c){p.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:p})))}))}))}function j2(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,v,b){const S=v.batch,M=S.keys();let F=X.resolve();return M.forEach(($=>{F=F.next((()=>b.getEntry(y,$))).next((it=>{const J=v.docVersions.get($);Yt(J!==null,48541),it.version.compareTo(J)<0&&(S.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),b.addEntry(it)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ut();for(let v=0;v<p.mutationResults.length;++v)p.mutationResults[v].transformResults.length>0&&(y=y.add(p.batch.mutations[v].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function DE(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function B2(r,t){const i=bt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((b,S)=>{const M=o.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Je.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),o=o.insert(S,F),(function(it,J,ft){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=L2?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,F,b)&&p.push(i.Pi.updateTargetData(c,F))}));let y=ls(),v=Ut();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(q2(c,d,t.documentUpdates).next((b=>{y=b.ks,v=b.qs}))),!a.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,v))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function q2(r,t,i){let a=Ut(),o=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ls();return i.forEach(((p,y)=>{const v=c.get(p);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(vt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(Bm,"Ignoring outdated watch update for ",p,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function H2(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function G2(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Xs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function hm(r,t,i){const a=bt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ll(d))throw d;rt(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Dv(r,t,i){const a=bt(r);let o=vt.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,b){const S=bt(y),M=S.xs.get(b);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(v,b)})(a,d,Ni(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?c:Ut()))).next((p=>(F2(a,Nw(t),p),{documents:p,Qs:c})))))}function F2(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Ov{constructor(){this.activeTargetIds=kw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Q2{constructor(){this.Mo=new Ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ov,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class K2{Oo(t){}shutdown(){}}const Mv="ConnectivityMonitor";class Vv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Mv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function fm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const qd="RestConnection",Y2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class X2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Hc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=fm(),p=this.zo(t,i.toUriEncodedString());rt(qd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:v}=new URL(p),b=il(v);return this.Jo(t,p,y,a,b).then((S=>(rt(qd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ja(qd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=Y2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Z2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const We="WebChannelConnection";class J2 extends X2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=fm();return new Promise(((p,y)=>{const v=new k0;v.setWithCredentials(!0),v.listenOnce(U0.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Nc.NO_ERROR:const S=v.getResponseJson();rt(We,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Nc.TIMEOUT:rt(We,`RPC '${t}' ${d} timed out`),y(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const M=v.getStatus();if(rt(We,`RPC '${t}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let F=v.getResponseJson();Array.isArray(F)&&(F=F[0]);const $=F?.error;if($&&$.status&&$.message){const it=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Et)>=0?Et:Z.UNKNOWN})($.status);y(new ot(it,$.message))}else y(new ot(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{rt(We,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);rt(We,`RPC '${t}' ${d} sending request:`,o),v.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=z0(),p=P0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");rt(We,`Creating RPC '${t}' stream ${o}: ${b}`,y);const S=d.createWebChannel(b,y);this.I_(S);let M=!1,F=!1;const $=new Z2({Yo:J=>{F?rt(We,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(M||(rt(We,`Opening RPC '${t}' stream ${o} transport.`),S.open(),M=!0),rt(We,`RPC '${t}' stream ${o} sending:`,J),S.send(J))},Zo:()=>S.close()}),it=(J,ft,Et)=>{J.listen(ft,(mt=>{try{Et(mt)}catch(Kt){setTimeout((()=>{throw Kt}),0)}}))};return it(S,po.EventType.OPEN,(()=>{F||(rt(We,`RPC '${t}' stream ${o} transport opened.`),$.o_())})),it(S,po.EventType.CLOSE,(()=>{F||(F=!0,rt(We,`RPC '${t}' stream ${o} transport closed`),$.a_(),this.E_(S))})),it(S,po.EventType.ERROR,(J=>{F||(F=!0,Ja(We,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),it(S,po.EventType.MESSAGE,(J=>{if(!F){const ft=J.data[0];Yt(!!ft,16349);const Et=ft,mt=Et?.error||Et[0]?.error;if(mt){rt(We,`RPC '${t}' stream ${o} received error:`,mt);const Kt=mt.status;let Wt=(function(A){const C=De[A];if(C!==void 0)return _E(C)})(Kt),Dt=mt.message;Wt===void 0&&(Wt=Z.INTERNAL,Dt="Unknown error status: "+Kt+" with message "+mt.message),F=!0,$.a_(new ot(Wt,Dt)),S.close()}else rt(We,`RPC '${t}' stream ${o} received:`,ft),$.u_(ft)}})),it(p,L0.STAT_EVENT,(J=>{J.stat===tm.PROXY?rt(We,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===tm.NOPROXY&&rt(We,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function gh(r){return new e2(r,!0)}class OE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kv="PersistentStream";class ME{constructor(t,i,a,o,c,d,p,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new OE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(as(i.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $2 extends ME{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=s2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?xi(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=rm(y)?{documents:l2(c,y)}:{query:o2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=TE(c,d.resumeToken);const v=lm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Yc(c,d.snapshotVersion.toTimestamp());const v=lm(c,d.expectedCount);v!==null&&(p.expectedCount=v)}return p})(this.serializer,t);const a=c2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class W2 extends ME{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=a2(t.writeResults,t.commitTime),a=xi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>r2(this.serializer,a)))};this.q_(i)}}class tR{}class eR extends tR{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,om(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class nR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class iR{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{$r(this)&&(rt(Yr,"Restarting streams for network reachability change."),await(async function(y){const v=bt(y);v.Ea.add(4),await jo(v),v.Ra.set("Unknown"),v.Ea.delete(4),await ph(v)})(this))}))})),this.Ra=new nR(a,o)}}async function ph(r){if($r(r))for(const t of r.da)await t(!0)}async function jo(r){for(const t of r.da)await t(!1)}function VE(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):ol(i).O_()&&Hm(i,t))}function qm(r,t){const i=bt(r),a=ol(i);i.Ia.delete(t),a.O_()&&kE(i,t),i.Ia.size===0&&(a.O_()?a.L_():$r(i)&&i.Ra.set("Unknown"))}function Hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ol(r).Y_(t)}function kE(r,t){r.Va.Ue(t),ol(r).Z_(t)}function Gm(r){r.Va=new Jw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Ra.ua()}function Fm(r){return $r(r)&&!ol(r).x_()&&r.Ia.size>0}function $r(r){return bt(r).Ea.size===0}function UE(r){r.Va=void 0}async function sR(r){r.Ra.set("Online")}async function rR(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function aR(r,t){UE(r),Fm(r)?(r.Ra.ha(t),Gm(r)):r.Ra.set("Unknown")}async function lR(r,t,i){if(r.Ra.set("Online"),t instanceof EE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){rt(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Zc(r,a)}else if(t instanceof Mc?r.Va.Ze(t):t instanceof vE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await DE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(v);b&&c.Ia.set(v,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,v)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Je.EMPTY_BYTE_STRING,b.snapshotVersion)),kE(c,y);const S=new Xs(b.target,y,v,b.sequenceNumber);Hm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(Yr,"Failed to raise snapshot:",a),await Zc(r,a)}}async function Zc(r,t,i){if(!ll(t))throw t;r.Ea.add(1),await jo(r),r.Ra.set("Offline"),i||(i=()=>DE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Yr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ph(r)}))}function LE(r,t){return t().catch((i=>Zc(r,i,t)))}async function yh(r){const t=bt(r),i=ar(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;oR(t);)try{const o=await H2(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,uR(t,o)}catch(o){await Zc(t,o)}PE(t)&&zE(t)}function oR(r){return $r(r)&&r.Ta.length<10}function uR(r,t){r.Ta.push(t);const i=ar(r);i.O_()&&i.X_&&i.ea(t.mutations)}function PE(r){return $r(r)&&!ar(r).x_()&&r.Ta.length>0}function zE(r){ar(r).start()}async function cR(r){ar(r).ra()}async function hR(r){const t=ar(r);for(const i of r.Ta)t.ea(i.mutations)}async function fR(r,t,i){const a=r.Ta.shift(),o=km.from(a,t,i);await LE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await yh(r)}async function dR(r,t){t&&ar(r).X_&&await(async function(a,o){if((function(d){return Yw(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();ar(a).B_(),await LE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await yh(a)}})(r,t),PE(r)&&zE(r)}async function Uv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),rt(Yr,"RemoteStore received new credentials");const a=$r(i);i.Ea.add(3),await jo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function mR(r,t){const i=bt(r);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await jo(i),i.Ra.set("Unknown"))}function ol(r){return r.ma||(r.ma=(function(i,a,o){const c=bt(i);return c.sa(),new $2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:sR.bind(null,r),t_:rR.bind(null,r),r_:aR.bind(null,r),H_:lR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Fm(r)?Gm(r):r.Ra.set("Unknown")):(await r.ma.stop(),UE(r))}))),r.ma}function ar(r){return r.fa||(r.fa=(function(i,a,o){const c=bt(i);return c.sa(),new W2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:cR.bind(null,r),r_:dR.bind(null,r),ta:hR.bind(null,r),na:fR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await yh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Yr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Qm(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(r,t){if(as("AsyncQueue",`${t}: ${r}`),ll(r))return new ot(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Fa{static emptySet(t){return new Fa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=yo(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Fa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Fa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Lv{constructor(){this.ga=new fe(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,p,y,v){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new nl(t,i,Fa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class gR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class pR{constructor(){this.queries=Pv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=bt(i),c=o.queries;o.queries=Pv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Pv(){return new Jr((r=>aE(r)),ch)}async function yR(r,t){const i=bt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new gR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Km(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function _R(r,t){const i=bt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function vR(r,t){const i=bt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Ym(i)}function ER(r,t,i){const a=bt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var dm,zv;(zv=dm||(dm={})).Ma="default",zv.Cache="cache";class TR{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class jE{constructor(t){this.key=t}}class BE{constructor(t){this.key=t}}class bR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=lE(t),this.tu=new Fa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Lv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,S)=>{const M=o.get(b),F=hh(this.query,S)?S:null,$=!!M&&this.mutatedKeys.has(M.key),it=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?$!==it&&(a.track({type:3,doc:F}),J=!0):this.su(M,F)||(a.track({type:2,doc:F}),J=!0,(y&&this.eu(F,y)>0||v&&this.eu(F,v)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),J=!0):M&&!F&&(a.track({type:1,doc:M}),J=!0,(y||v)&&(p=!0)),J&&(F?(d=d.add(F),c=it?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(F,$){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return it(F)-it($)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Lv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new BE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new jE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class AR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class SR{constructor(t){this.key=t,this.hu=!1}}class wR{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>aE(p)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new fe(dt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function RR(r,t,i=!0){const a=KE(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await qE(a,t,i,!0),o}async function CR(r,t){const i=KE(r);await qE(i,t,!0,!1)}async function qE(r,t,i,a){const o=await G2(r.localStore,Ni(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await IR(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&VE(r.remoteStore,o),p}async function IR(r,t,i,a,o){r.pu=(S,M,F)=>(async function(it,J,ft,Et){let mt=J.view.ru(ft);mt.Cs&&(mt=await Dv(it.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,mt))));const Kt=Et&&Et.targetChanges.get(J.targetId),Wt=Et&&Et.targetMismatches.get(J.targetId)!=null,Dt=J.view.applyChanges(mt,it.isPrimaryClient,Kt,Wt);return Bv(it,J.targetId,Dt.au),Dt.snapshot})(r,S,M,F);const c=await Dv(r.localStore,t,!0),d=new bR(t,c.Qs),p=d.ru(c.documents),y=zo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(p,r.isPrimaryClient,y);Bv(r,i,v.au);const b=new AR(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),v.snapshot}async function NR(r,t,i){const a=bt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&qm(a.remoteStore,o.targetId),mm(a,o.targetId)})).catch(al)):(mm(a,o.targetId),await hm(a.localStore,o.targetId,!0))}async function xR(r,t){const i=bt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function DR(r,t,i){const a=PR(r);try{const o=await(function(d,p){const y=bt(d),v=ue.now(),b=p.reduce(((F,$)=>F.add($.key)),Ut());let S,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let $=ls(),it=Ut();return y.Ns.getEntries(F,b).next((J=>{$=J,$.forEach(((ft,Et)=>{Et.isValidDocument()||(it=it.add(ft))}))})).next((()=>y.localDocuments.getOverlayedDocuments(F,$))).next((J=>{S=J;const ft=[];for(const Et of p){const mt=Hw(Et,S.get(Et.key).overlayedDocument);mt!=null&&ft.push(new cr(Et.key,mt,W0(mt.value.mapValue),Hn.exists(!0)))}return y.mutationQueue.addMutationBatch(F,v,ft,p)})).next((J=>{M=J;const ft=J.applyToLocalDocumentSet(S,it);return y.documentOverlayCache.saveOverlays(F,J.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:uE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new fe(kt)),v=v.insert(p,y),d.Vu[d.currentUser.toKey()]=v})(a,o.batchId,i),await Bo(a,o.changes),await yh(a.remoteStore)}catch(o){const c=Km(o,"Failed to persist write");i.reject(c)}}async function HE(r,t){const i=bt(r);try{const a=await B2(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Yt(d.hu,14607):o.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Bo(i,a,t)}catch(a){await al(a)}}function jv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let v=!1;y.queries.forEach(((b,S)=>{for(const M of S.Sa)M.va(p)&&(v=!0)})),v&&Ym(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function OR(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new fe(dt.comparator);d=d.insert(c,en.newNoDocument(c,vt.min()));const p=Ut().add(c),y=new mh(vt.min(),new Map,new fe(kt),d,p);await HE(a,y),a.du=a.du.remove(c),a.Au.delete(t),Zm(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(al)}async function MR(r,t){const i=bt(r),a=t.batch.batchId;try{const o=await j2(i.localStore,t);FE(i,a,null),GE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Bo(i,o)}catch(o){await al(o)}}async function VR(r,t,i){const a=bt(r);try{const o=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return y.mutationQueue.lookupMutationBatch(v,p).next((S=>(Yt(S!==null,37113),b=S.keys(),y.mutationQueue.removeMutationBatch(v,S)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>y.localDocuments.getDocuments(v,b)))}))})(a.localStore,t);FE(a,t,i),GE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Bo(a,o)}catch(o){await al(o)}}function GE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function FE(r,t,i){const a=bt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function mm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||QE(r,a)}))}function QE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Zm(r))}function Bv(r,t,i){for(const a of i)a instanceof jE?(r.Ru.addReference(a.key,t),kR(r,a)):a instanceof BE?(rt(Xm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||QE(r,a.key)):pt(19791,{wu:a})}function kR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(Xm,"New document in limbo: "+i),r.Eu.add(a),Zm(r))}function Zm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(oe.fromString(t)),a=r.fu.next();r.Au.set(a,new SR(i)),r.du=r.du.insert(i,a),VE(r.remoteStore,new Xs(Ni(Om(i.path)),a,"TargetPurposeLimboResolution",ah.ce))}}async function Bo(r,t,i){const a=bt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((v=>{if((v||i)&&a.isPrimaryClient){const b=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){o.push(v);const b=jm.As(y.targetId,v);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,v){const b=bt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(v,(M=>X.forEach(M.Es,(F=>b.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>b.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!ll(S))throw S;rt(Bm,"Failed to update sequence numbers: "+S)}for(const S of v){const M=S.targetId;if(!S.fromCache){const F=b.Ms.get(M),$=F.snapshotVersion,it=F.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(M,it)}}})(a.localStore,c))}async function UR(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){rt(Xm,"User change. New user:",t.toKey());const a=await xE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ot(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Bo(i,a.Ls)}}function LR(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let o=Ut();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function KE(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=HE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=OR.bind(null,t),t.Pu.H_=vR.bind(null,t.eventManager),t.Pu.yu=ER.bind(null,t.eventManager),t}function PR(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VR.bind(null,t),t}class Jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return z2(this.persistence,new U2,t.initialUser,this.serializer)}Cu(t){return new NE(zm.mi,this.serializer)}Du(t){return new Q2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jc.provider={build:()=>new Jc};class zR extends Jc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof Xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new T2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new NE((a=>Xc.mi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=UR.bind(null,this.syncEngine),await mR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new pR})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=(function(c){return new J2(c)})(t.databaseInfo);return(function(c,d,p,y){return new eR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new iR(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>jv(this.syncEngine,i,0)),(function(){return Vv.v()?new Vv:new K2})())}createSyncEngine(t,i){return(function(o,c,d,p,y,v,b){const S=new wR(o,c,d,p,y,v);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);rt(Yr,"RemoteStore shutting down."),a.Ea.add(5),await jo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class jR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):as("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const lr="FirestoreClient";class BR{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(lr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(lr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Km(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(lr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await xE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function qv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await qR(r);rt(lr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Uv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Uv(t.remoteStore,o))),r._onlineComponents=t}async function qR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(lr,"Using user provided OfflineComponentProvider");try{await Gd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Gd(r,new Jc)}}else rt(lr,"Using default OfflineComponentProvider"),await Gd(r,new zR(void 0));return r._offlineComponents}async function YE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(lr,"Using user provided OnlineComponentProvider"),await qv(r,r._uninitializedComponentsProvider._online)):(rt(lr,"Using default OnlineComponentProvider"),await qv(r,new gm))),r._onlineComponents}function HR(r){return YE(r).then((t=>t.syncEngine))}async function Hv(r){const t=await YE(r),i=t.eventManager;return i.onListen=RR.bind(null,t.syncEngine),i.onUnlisten=NR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=CR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=xR.bind(null,t.syncEngine),i}function XE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Gv=new Map;const ZE="firestore.googleapis.com",Fv=!0;class Qv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZE,this.ssl=Fv}else this.host=t.host,this.ssl=t.ssl??Fv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=IE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<v2)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ew("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new FS;switch(a.type){case"firstParty":return new XS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Gv.get(i);a&&(rt("ComponentProvider","Removing Datastore"),Gv.delete(i),a.terminate())})(this),Promise.resolve()}}function GR(r,t,i,a={}){r=Ii(r,_h);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(R0(`https://${p}`),C0("Firestore",!0)),c.host!==ZE&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!Fr(y,d)&&(r._setSettings(y),a.mockUserToken)){let v,b;if(typeof a.mockUserToken=="string")v=a.mockUserToken,b=tn.MOCK_USER;else{v=pA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(S)}r._authCredentials=new QS(new B0(v,b))}}class vh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new vh(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Lo(i,Me._jsonSchema))return new Me(t,a||null,new dt(oe.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class tr extends vh{constructor(t,i,a){super(t,i,Om(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new dt(t))}withConverter(t){return new tr(this.firestore,t,this._path)}}function Cc(r,t,...i){if(r=sn(r),q0("collection","path",t),r instanceof _h){const a=oe.fromString(t,...i);return rv(a),new tr(r,null,a)}{if(!(r instanceof Me||r instanceof tr))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return rv(a),new tr(r.firestore,null,a)}}function Br(r,t,...i){if(r=sn(r),arguments.length===1&&(t=wm.newId()),q0("doc","path",t),r instanceof _h){const a=oe.fromString(t,...i);return sv(a),new Me(r,null,new dt(a))}{if(!(r instanceof Me||r instanceof tr))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(t,...i));return sv(a),new Me(r.firestore,r instanceof tr?r.converter:null,new dt(a))}}const Kv="AsyncQueue";class Yv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new OE(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&rt(Kv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ll(t))throw t;rt(Kv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",Xv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:Xv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Xv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Zv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Xr extends _h{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Yv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Yv(t),this._firestoreClient=void 0,await t}}}function FR(r,t){const i=typeof r=="object"?r:D0(),a=typeof r=="string"?r:Hc,o=Am(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=mA("firestore");c&&GR(o,...c)}return o}function JE(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||QR(r),r._firestoreClient}function QR(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new fw(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,XE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new BR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new qn(Je.fromBase64String(t))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new qn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lo(t,qn._jsonSchema))return qn.fromBase64String(t.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Oe("string",qn._jsonSchemaVersion),bytes:Oe("string")};class Eh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Th{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if(Lo(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:Oe("string",Di._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Oi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lo(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Oi(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),vectorValues:Oe("object")};const KR=/^__.*__$/;class YR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Po(t,this.data,i,this.fieldTransforms)}}class $E{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new cr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function WE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Jm{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Jm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $c(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(WE(this.Ac)&&KR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class XR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}Cc(t,i,a,o=!1){return new Jm({Ac:t,methodName:i,Dc:a,path:Ze.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $m(r){const t=r._freezeSettings(),i=gh(r._databaseId);return new XR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function tT(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);tg("Data must be an object, but it was:",d,a);const p=eT(a,d);let y,v;if(c.merge)y=new In(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=pm(t,S,i);if(!d.contains(M))throw new ot(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);iT(b,M)||b.push(M)}y=new In(b),v=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,v=d.fieldTransforms;return new YR(new _n(p),y,v)}class bh extends Th{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}class Wm extends Th{_toFieldTransform(t){return new zw(t.path,new Do)}isEqual(t){return t instanceof Wm}}function ZR(r,t,i,a){const o=r.Cc(1,t,i);tg("Data must be an object, but it was:",o,a);const c=[],d=_n.empty();ur(a,((y,v)=>{const b=eg(t,y,i);v=sn(v);const S=o.yc(b);if(v instanceof bh)c.push(b);else{const M=Ah(v,S);M!=null&&(c.push(b),d.set(b,M))}}));const p=new In(c);return new $E(d,p,o.fieldTransforms)}function JR(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[pm(t,a,i)],y=[o];if(c.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(pm(t,c[M])),y.push(c[M+1]);const v=[],b=_n.empty();for(let M=p.length-1;M>=0;--M)if(!iT(v,p[M])){const F=p[M];let $=y[M];$=sn($);const it=d.yc(F);if($ instanceof bh)v.push(F);else{const J=Ah($,it);J!=null&&(v.push(F),b.set(F,J))}}const S=new In(v);return new $E(b,S,d.fieldTransforms)}function Ah(r,t){if(nT(r=sn(r)))return tg("Unsupported field value:",t,r),eT(r,t);if(r instanceof Th)return(function(a,o){if(!WE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=Ah(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return Uw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ue.fromDate(a);return{timestampValue:Yc(o.serializer,c)}}if(a instanceof ue){const c=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,c)}}if(a instanceof Di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof qn)return{bytesValue:TE(o.serializer,a._byteString)};if(a instanceof Me){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Oi)return(function(d,p){return{mapValue:{fields:{[J0]:{stringValue:$0},[Gc]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw p.Sc("VectorValues must only contain numeric values.");return Mm(p.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Rm(a)}`)})(r,t)}function eT(r,t){const i={};return F0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(r,((a,o)=>{const c=Ah(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function nT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ue||r instanceof Di||r instanceof qn||r instanceof Me||r instanceof Th||r instanceof Oi)}function tg(r,t,i){if(!nT(i)||!H0(i)){const a=Rm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function pm(r,t,i){if((t=sn(t))instanceof Eh)return t._internalPath;if(typeof t=="string")return eg(r,t);throw $c("Field path arguments must be of type string or ",r,!1,void 0,i)}const $R=new RegExp("[~\\*/\\[\\]]");function eg(r,t,i){if(t.search($R)>=0)throw $c(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Eh(...t.split("."))._internalPath}catch{throw $c(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function $c(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ot(Z.INVALID_ARGUMENT,p+r+y)}function iT(r,t){return r.some((i=>i.isEqual(t)))}class sT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new WR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(rT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class WR extends sT{data(){return super.data()}}function rT(r,t){return typeof t=="string"?eg(r,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}function tC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eC{convertValue(t,i="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ur(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((a=>Te(a.doubleValue)));return new Oi(i)}convertGeoPoint(t){return new Di(Te(t.latitude),Te(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=oh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Io(t));default:return null}}convertTimestamp(t){const i=ir(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=oe.fromString(t);Yt(CE(a),9688,{name:t});const o=new No(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return o.isEqual(i)||as(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function aT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends sT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(rT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:Oe("string",Gr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Vc extends Gr{data(t={}){return super.data(t)}}class Qa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new vo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new vo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return p.type!==0&&(v=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:nC(p.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Oe("string",Qa._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class lT extends eC{constructor(t){super(),this.firestore=t}convertBytes(t){return new qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function iC(r,t,i){r=Ii(r,Me);const a=Ii(r.firestore,Xr),o=aT(r.converter,t);return Sh(a,[tT($m(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Hn.none())])}function Jv(r,t,i,...a){r=Ii(r,Me);const o=Ii(r.firestore,Xr),c=$m(o);let d;return d=typeof(t=sn(t))=="string"||t instanceof Eh?JR(c,"updateDoc",r._key,t,i,a):ZR(c,"updateDoc",r._key,t),Sh(o,[d.toMutation(r._key,Hn.exists(!0))])}function $v(r){return Sh(Ii(r.firestore,Xr),[new Vm(r._key,Hn.none())])}function Wv(r,t){const i=Ii(r.firestore,Xr),a=Br(r),o=aT(r.converter,t);return Sh(i,[tT($m(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Hn.exists(!1))]).then((()=>a))}function Fd(r,...t){r=sn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Zv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Zv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Me)d=Ii(r.firestore,Xr),p=Om(r._key.path),c={next:y=>{t[a]&&t[a](sC(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Ii(r,vh);d=Ii(y.firestore,Xr),p=y._query;const v=new lT(d);c={next:b=>{t[a]&&t[a](new Qa(d,v,y,b))},error:t[a+1],complete:t[a+2]},tC(r._query)}return(function(v,b,S,M){const F=new jR(M),$=new TR(b,F,S);return v.asyncQueue.enqueueAndForget((async()=>yR(await Hv(v),$))),()=>{F.Nu(),v.asyncQueue.enqueueAndForget((async()=>_R(await Hv(v),$)))}})(JE(d),p,o,c)}function Sh(r,t){return(function(a,o){const c=new Hr;return a.asyncQueue.enqueueAndForget((async()=>DR(await HR(a),o,c))),c.promise})(JE(r),t)}function sC(r,t,i){const a=i.docs.get(t._key),o=new lT(r);return new Gr(r,o,t._key,a,new vo(i.hasPendingWrites,i.fromCache),t.converter)}function t0(){return new Wm("serverTimestamp")}(function(t,i=!0){(function(o){rl=o})(sl),Za(new Qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Xr(new KS(a.getProvider("auth-internal")),new ZS(d,a.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(v.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),$s(tv,ev,t),$s(tv,ev,"esm2020")})();function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rC=oT,uT=new ko("auth","Firebase",oT());const Wc=new Tm("@firebase/auth");function aC(r,...t){Wc.logLevel<=Vt.WARN&&Wc.warn(`Auth (${sl}): ${r}`,...t)}function kc(r,...t){Wc.logLevel<=Vt.ERROR&&Wc.error(`Auth (${sl}): ${r}`,...t)}function os(r,...t){throw ng(r,...t)}function Mi(r,...t){return ng(r,...t)}function cT(r,t,i){const a={...rC(),[t]:i};return new ko("auth","Firebase",a).create(t,{appName:r.name})}function er(r){return cT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ng(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return uT.create(r,...t)}function _t(r,t,...i){if(!r)throw ng(t,...i)}function is(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function us(r,t){r||is(t)}function ym(){return typeof self<"u"&&self.location?.href||""}function lC(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function oC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lC()||bA()||"connection"in navigator)?navigator.onLine:!0}function uC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class qo{constructor(t,i){this.shortDelay=t,this.longDelay=i,us(i>t,"Short delay should be less than long delay!"),this.isMobile=vA()||AA()}get(){return oC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ig(r,t){us(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class hT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const hC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fC=new qo(3e4,6e4);function wh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ul(r,t,i,a,o={}){return fT(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Uo({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const v={method:t,headers:y,...c};return TA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(v.credentials="include"),hT.fetch()(await mT(r,r.config.apiHost,i,p),v)})}async function fT(r,t,i){r._canInitEmulator=!1;const a={...cC,...t};try{const o=new dC(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,v]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ic(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw cT(r,b,v);os(r,b)}}catch(o){if(o instanceof cs)throw o;os(r,"network-request-failed",{message:String(o)})}}async function dT(r,t,i,a,o={}){const c=await ul(r,t,i,a,o);return"mfaPendingCredential"in c&&os(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function mT(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?ig(r.config,o):`${r.config.apiScheme}://${o}`;return hC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class dC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Mi(this.auth,"network-request-failed")),fC.get())})}}function Ic(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Mi(r,t,a);return o.customData._tokenResponse=i,o}async function mC(r,t){return ul(r,"POST","/v1/accounts:delete",t)}async function th(r,t){return ul(r,"POST","/v1/accounts:lookup",t)}function wo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gC(r,t=!1){const i=sn(r),a=await i.getIdToken(t),o=sg(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:wo(Qd(o.auth_time)),issuedAtTime:wo(Qd(o.iat)),expirationTime:wo(Qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function sg(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=b0(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n0(r){const t=sg(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof cs&&pC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function pC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class yC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wo(this.lastLoginAt),this.creationTime=wo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(r){const t=r.auth,i=await r.getIdToken(),a=await Vo(r,th(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?gT(o.providerUserInfo):[],d=vC(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,v=p?y:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(r,b)}async function _C(r){const t=sn(r);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vC(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function gT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function EC(r,t){const i=await fT(r,{},async()=>{const a=Uo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await mT(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(y.credentials="include"),hT.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function TC(r,t){return ul(r,"POST","/v2/accounts:revokeToken",wh(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=n0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await EC(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ka;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return is("not implemented")}}function Gs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new yC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Vo(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return gC(this,t)}reload(){return _C(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Vo(this,mC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,v=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:$,stsTokenManager:it}=i;_t(S&&it,t,"internal-error");const J=Ka.fromJSON(this.name,it);_t(typeof S=="string",t,"internal-error"),Gs(a,t.name),Gs(o,t.name),_t(typeof M=="boolean",t,"internal-error"),_t(typeof F=="boolean",t,"internal-error"),Gs(c,t.name),Gs(d,t.name),Gs(p,t.name),Gs(y,t.name),Gs(v,t.name),Gs(b,t.name);const ft=new si({uid:S,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:v,lastLoginAt:b});return $&&Array.isArray($)&&(ft.providerData=$.map(Et=>({...Et}))),y&&(ft._redirectEventId=y),ft}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ka;o.updateFromServerResponse(i);const c=new si({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await eh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?gT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const y=new si({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,v),y}}const i0=new Map;function ss(r){us(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(us(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}class pT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}pT.type="NONE";const s0=pT;function Uc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await th(this.auth,{idToken:t}).catch(()=>{});return i?si._fromGetAccountInfoResponse(this.auth,i,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(ss(s0),t,a);const o=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=o[0]||ss(s0);const d=Uc(a,t.config.apiKey,t.name);let p=null;for(const v of i)try{const b=await v._get(d);if(b){let S;if(typeof b=="string"){const M=await th(t,{idToken:b}).catch(()=>{});if(!M)break;S=await si._fromGetAccountInfoResponse(t,M,b)}else S=si._fromJSON(t,b);v!==c&&(p=S),c=v;break}}catch{}const y=o.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ya(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new Ya(c,t,a))}}function r0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ET(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bT(t))return"Blackberry";if(AT(t))return"Webos";if(_T(t))return"Safari";if((t.includes("chrome/")||vT(t))&&!t.includes("edge/"))return"Chrome";if(TT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function yT(r=nn()){return/firefox\//i.test(r)}function _T(r=nn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vT(r=nn()){return/crios\//i.test(r)}function ET(r=nn()){return/iemobile/i.test(r)}function TT(r=nn()){return/android/i.test(r)}function bT(r=nn()){return/blackberry/i.test(r)}function AT(r=nn()){return/webos/i.test(r)}function rg(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bC(r=nn()){return rg(r)&&!!window.navigator?.standalone}function AC(){return SA()&&document.documentMode===10}function ST(r=nn()){return rg(r)||TT(r)||AT(r)||bT(r)||/windows phone/i.test(r)||ET(r)}function wT(r,t=[]){let i;switch(r){case"Browser":i=r0(nn());break;case"Worker":i=`${r0(nn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class SC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function wC(r,t={}){return ul(r,"GET","/v2/passwordPolicy",wh(r,t))}const RC=6;class CC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??RC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class IC{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new SC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ss(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await th(this,{idToken:t}),a=await si._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=uC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(er(this));const i=t?sn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await wC(this),i=new CC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await TC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ss(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[ss(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&aC(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rh(r){return sn(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=OA(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NC(r){ag=r}function xC(r){return ag.loadJS(r)}function DC(){return ag.gapiScript}function OC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function MC(r,t){const i=Am(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Fr(c,t??{}))return o;os(o,"already-initialized")}return i.initialize({options:t})}function VC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ss);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function kC(r,t,i){const a=Rh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=RT(t),{host:d,port:p}=UC(t),y=p===null?"":`:${p}`,v={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Fr(v,a.config.emulator)&&Fr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(R0(`${c}//${d}${y}`),C0("Auth",!0)):LC()}function RT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function UC(r){const t=RT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:l0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:l0(d)}}}function l0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function LC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class CT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return is("not implemented")}_getIdTokenResponse(t){return is("not implemented")}_linkToIdToken(t,i){return is("not implemented")}_getReauthenticationResolver(t){return is("not implemented")}}async function Xa(r,t){return dT(r,"POST","/v1/accounts:signInWithIdp",wh(r,t))}const PC="http://localhost";class Zr extends CT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):os("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Zr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:PC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Uo(i)}return t}}class IT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ho extends IT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fs extends Ho{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class Qs extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Ks extends Ho{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";class Ys extends Ho{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ys.credential(i,a)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";async function zC(r,t){return dT(r,"POST","/v1/accounts:signUp",wh(r,t))}class or{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await si._fromIdTokenResponse(t,a,o),d=o0(a);return new or({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=o0(a);return new or({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function o0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function jC(r){if(ii(r.app))return Promise.reject(er(r));const t=Rh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new or({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await zC(t,{returnSecureToken:!0}),a=await or._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class nh extends cs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new nh(t,i,a,o)}}function NT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,c,t,a):c})}async function BC(r,t,i=!1){const a=await Vo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return or._forOperation(r,"link",a)}async function qC(r,t,i=!1){const{auth:a}=r;if(ii(a.app))return Promise.reject(er(a));const o="reauthenticate";try{const c=await Vo(r,NT(a,o,t,r),i);_t(c.idToken,a,"internal-error");const d=sg(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),or._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&os(a,"user-mismatch"),c}}async function HC(r,t,i=!1){if(ii(r.app))return Promise.reject(er(r));const a="signIn",o=await NT(r,a,t),c=await or._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function GC(r,t,i,a){return sn(r).onIdTokenChanged(t,i,a)}function FC(r,t,i){return sn(r).beforeAuthStateChanged(t,i)}function QC(r,t,i,a){return sn(r).onAuthStateChanged(t,i,a)}const ih="__sak";class xT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const KC=1e3,YC=10;class DT extends xT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ST(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);AC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,YC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}DT.type="LOCAL";const XC=DT;class OT extends xT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}OT.type="SESSION";const MT=OT;function ZC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async v=>v(i.origin,c)),y=await ZC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function lg(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class JC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const v=lg("",20);o.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Vi(){return window}function $C(r){Vi().location.href=r}function VT(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function WC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tI(){return navigator?.serviceWorker?.controller||null}function eI(){return VT()?self:null}const kT="firebaseLocalStorageDb",nI=1,sh="firebaseLocalStorage",UT="fbase_key";class Go{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ih(r,t){return r.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function iI(){const r=indexedDB.deleteDatabase(kT);return new Go(r).toPromise()}function vm(){const r=indexedDB.open(kT,nI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(sh,{keyPath:UT})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(sh)?t(a):(a.close(),await iI(),t(await vm()))})})}async function u0(r,t,i){const a=Ih(r,!0).put({[UT]:t,value:i});return new Go(a).toPromise()}async function sI(r,t){const i=Ih(r,!1).get(t),a=await new Go(i).toPromise();return a===void 0?null:a.value}function c0(r,t){const i=Ih(r,!0).delete(t);return new Go(i).toPromise()}const rI=800,aI=3;class LT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>aI)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(eI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await WC(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||tI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await u0(t,ih,"1"),await c0(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>sI(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Ih(o,!1).getAll();return new Go(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LT.type="LOCAL";const lI=LT;new qo(3e4,6e4);function oI(r,t){return t?ss(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class og extends CT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function uI(r){return HC(r.auth,new og(r),r.bypassAuthState)}function cI(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),qC(i,new og(r),r.bypassAuthState)}async function hI(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),BC(i,new og(r),r.bypassAuthState)}class PT{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uI;case"linkViaPopup":case"linkViaRedirect":return hI;case"reauthViaPopup":case"reauthViaRedirect":return cI;default:os(this.auth,"internal-error")}}resolve(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fI=new qo(2e3,1e4);class Ga extends PT{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const t=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fI.get())};t()}}Ga.currentPopupAction=null;const dI="pendingRedirect",Lc=new Map;class mI extends PT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const a=await gI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gI(r,t){const i=_I(t),a=yI(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function pI(r,t){Lc.set(r._key(),t)}function yI(r){return ss(r._redirectPersistence)}function _I(r){return Uc(dI,r.config.apiKey,r.name)}async function vI(r,t,i=!1){if(ii(r.app))return Promise.reject(er(r));const a=Rh(r),o=oI(a,t),d=await new mI(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const EI=600*1e3;class TI{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bI(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!zT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Mi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EI&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function zT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function bI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(r);default:return!1}}async function AI(r,t={}){return ul(r,"GET","/v1/projects",t)}const SI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wI=/^https?/;async function RI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await AI(r);for(const i of t)try{if(CI(i))return}catch{}os(r,"unauthorized-domain")}function CI(r){const t=ym(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!wI.test(i))return!1;if(SI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const II=new qo(3e4,6e4);function f0(){const r=Vi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function NI(r){return new Promise((t,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Mi(r,"network-request-failed"))},timeout:II.get()})}if(Vi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Vi().gapi?.load)a();else{const o=OC("iframefcb");return Vi()[o]=()=>{gapi.load?a():i(Mi(r,"network-request-failed"))},xC(`${DC()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function xI(r){return Pc=Pc||NI(r),Pc}const DI=new qo(5e3,15e3),OI="__/auth/iframe",MI="emulator/auth/iframe",VI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UI(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ig(t,MI):`https://${r.config.authDomain}/${OI}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=kI.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Uo(a).slice(1)}`}async function LI(r){const t=await xI(r),i=Vi().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:UI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VI,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Mi(r,"network-request-failed"),p=Vi().setTimeout(()=>{c(d)},DI.get());function y(){Vi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const PI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zI=500,jI=600,BI="_blank",qI="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HI(r,t,i,a=zI,o=jI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...PI,width:a.toString(),height:o.toString(),top:c,left:d},v=nn().toLowerCase();i&&(p=vT(v)?BI:i),yT(v)&&(t=t||qI,y.scrollbars="yes");const b=Object.entries(y).reduce((M,[F,$])=>`${M}${F}=${$},`,"");if(bC(v)&&p!=="_self")return GI(t||"",p),new d0(null);const S=window.open(t||"",p,b);_t(S,r,"popup-blocked");try{S.focus()}catch{}return new d0(S)}function GI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const FI="__/auth/handler",QI="emulator/auth/handler",KI=encodeURIComponent("fac");async function m0(r,t,i,a,o,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof IT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",DA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Ho){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),v=y?`#${KI}=${encodeURIComponent(y)}`:"";return`${YI(r)}?${Uo(p).slice(1)}${v}`}function YI({config:r}){return r.emulator?ig(r,QI):`https://${r.authDomain}/${FI}`}const Kd="webStorageSupport";class XI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MT,this._completeRedirectFn=vI,this._overrideRedirectResult=pI}async _openPopup(t,i,a,o){us(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(t,i,a,ym(),o);return HI(t,c,lg())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await m0(t,i,a,ym(),o);return $C(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(us(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await LI(t),a=new TI(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},o=>{const c=o?.[0]?.[Kd];c!==void 0&&i(!!c),os(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=RI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ST()||_T()||rg()}}const ZI=XI;var g0="@firebase/auth",p0="1.12.0";class JI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function $I(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WI(r){Za(new Qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wT(r)},v=new IC(a,o,c,y);return VC(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Qr("auth-internal",t=>{const i=Rh(t.getProvider("auth").getImmediate());return(a=>new JI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(g0,p0,$I(r)),$s(g0,p0,"esm2020")}const tN=300,eN=w0("authIdTokenMaxAge")||tN;let y0=null;const nN=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>eN)return;const o=i?.token;y0!==o&&(y0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iN(r=D0()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const i=MC(r,{popupRedirectResolver:ZI,persistence:[lI,XC,MT]}),a=w0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=nN(c.toString());FC(i,d,()=>d(i.currentUser)),GC(i,p=>d(p))}}const o=A0("auth");return o&&kC(i,`http://${o}`),i}function sN(){return document.getElementsByTagName("head")?.[0]??document}NC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Mi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",sN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WI("Browser");const rN={apiKey:"AIzaSyC6CsbNXxoYqfGhomIGHJrd9YFLnrVcit4",authDomain:"montagat.firebaseapp.com",projectId:"montagat",storageBucket:"montagat.firebasestorage.app",messagingSenderId:"35540500962",appId:"1:35540500962:web:90eb9c35b0ae2d3f50f9bb",measurementId:"G-9YRSD2PR8N"};let Yd,zc,un;try{Yd=x0(rN),zc=iN(Yd),un=FR(Yd)}catch(r){console.error("Firebase Init Error:",r)}const Ri="montagat-store-1",aN="mnjnerzz";function lN(){const[r,t]=Qt.useState(null),[i,a]=Qt.useState(null),[o,c]=Qt.useState([]),[d,p]=Qt.useState([]),[y,v]=Qt.useState({storeName:" ",about:"        .",phone:"+20 123 456 789",email:"support@store.com",address:" ",paymentMethods:"   ",adminPassword:"admin",secretAccessCode:"admin-open"}),[b,S]=Qt.useState(!0),[M,F]=Qt.useState([]),[$,it]=Qt.useState(!1),[J,ft]=Qt.useState(null),[Et,mt]=Qt.useState(!1),[Kt,Wt]=Qt.useState(!1),[Dt,I]=Qt.useState(!1),[A,C]=Qt.useState(!1),[V,N]=Qt.useState("products"),[k,w]=Qt.useState(null),[Xt,ge]=Qt.useState(""),[H,et]=Qt.useState(""),[ut,Pt]=Qt.useState("default"),[jt,D]=Qt.useState(null),[K,tt]=Qt.useState("");Qt.useEffect(()=>{if(!zc)return;(async()=>{try{await jC(zc)}catch(Ct){console.error("Auth Error",Ct),S(!1)}})();const ct=QC(zc,Ct=>{t(Ct)});return()=>ct()},[]),Qt.useEffect(()=>{if(!r||!un)return;const nt=Fd(Cc(un,"artifacts",Ri,"public","data","products"),Bt=>{c(Bt.docs.map(qe=>({id:qe.id,...qe.data()}))),S(!1)},Bt=>{console.error("Firestore Error:",Bt),S(!1)}),ct=Fd(Cc(un,"artifacts",Ri,"public","data","orders"),Bt=>{p(Bt.docs.map(qe=>({id:qe.id,...qe.data()})).sort((qe,Li)=>(Li.timestamp?.seconds||0)-(qe.timestamp?.seconds||0)))}),Ct=Fd(Br(un,"artifacts",Ri,"public","data","settings","config"),Bt=>{Bt.exists()&&v(qe=>({...qe,...Bt.data()}))});return()=>{nt(),ct(),Ct()}},[r]),Qt.useEffect(()=>{H.trim()===y.secretAccessCode&&(et(""),I(!0))},[H,y.secretAccessCode]),Qt.useEffect(()=>{k&&(D(null),tt(""))},[k]);const st=nt=>{const ct=nt.target.files[0];if(ct){if(ct.size>800*1024){alert("    .      800 .");return}const Ct=new FileReader;Ct.onloadend=()=>{D(Ct.result),tt(Ct.result)},Ct.readAsDataURL(ct)}},yt=async nt=>{if(nt.preventDefault(),!un)return;const ct=new FormData(nt.target);let Ct=K||k?.image||"";const Bt={name:ct.get("name"),price:Number(ct.get("price")),category:ct.get("category"),description:ct.get("description"),image:Ct,inStock:ct.get("inStock")==="on",timestamp:t0()};try{k?.id?await Jv(Br(un,"artifacts",Ri,"public","data","products",k.id),Bt):await Wv(Cc(un,"artifacts",Ri,"public","data","products"),Bt),w(null),tt("")}catch(qe){console.error("Error saving:",qe),alert("   .")}},At=async nt=>{if(nt.preventDefault(),!un)return;const ct=new FormData(nt.target),Ct={customerName:ct.get("name"),customerPhone:ct.get("phone"),customerAddress:ct.get("addr"),items:M.map(Bt=>({name:Bt.name,qty:Bt.qty})),totalAmount:Gn,timestamp:t0(),status:" "};try{await Wv(Cc(un,"artifacts",Ri,"public","data","orders"),Ct),ct.append("_",M.map(Bt=>`${Bt.name} (: ${Bt.qty}) - : ${Bt.price*Bt.qty} .`).join(`
`)),ct.append("_",Gn+" ."),await fetch(`https://formspree.io/f/${aN}`,{method:"POST",body:ct,headers:{Accept:"application/json"}}),Wt(!0)}catch(Bt){console.error("Checkout Error:",Bt),alert("        .")}},It=nt=>{const ct=M.find(Ct=>Ct.id===nt.id);F(ct?M.map(Ct=>Ct.id===nt.id?{...Ct,qty:Ct.qty+1}:Ct):[...M,{...nt,qty:1}])},pe=["",...new Set(o.map(nt=>nt.category))],re=Qt.useMemo(()=>{let nt=o.filter(ct=>{const Ct=ct.name?String(ct.name).toLowerCase():"";return(Xt===""||ct.category===Xt)&&Ct.includes(H.toLowerCase())});return ut==="priceLow"&&nt.sort((ct,Ct)=>ct.price-Ct.price),ut==="priceHigh"&&nt.sort((ct,Ct)=>Ct.price-ct.price),nt},[o,Xt,H,ut]),Gn=M.reduce((nt,ct)=>nt+ct.price*ct.qty,0);return O.jsxs("div",{className:"min-h-screen bg-white text-right selection:bg-blue-100",dir:"rtl",children:[O.jsxs("nav",{className:"sticky top-0 z-50 bg-white/90 backdrop-blur-md border-b border-gray-100 px-6 py-4 flex justify-between items-center shadow-sm",children:[O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsx("div",{className:"bg-blue-600 p-2 rounded-xl text-white cursor-pointer shadow-lg",onClick:()=>I(!1),children:O.jsx(qb,{size:24})}),O.jsx("h1",{className:"text-xl font-black text-gray-900",children:y.storeName})]}),O.jsxs("div",{className:"flex items-center gap-4",children:[A&&O.jsx("button",{onClick:()=>I(!Dt),className:"p-2 text-orange-600 bg-orange-50 rounded-xl hover:bg-orange-100 transition-colors",children:O.jsx(Zb,{size:20})}),O.jsxs("button",{onClick:()=>it(!0),className:"relative p-2 text-gray-900",children:[O.jsx(Ec,{size:24}),M.length>0&&O.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 rounded-full flex items-center justify-center border-2 border-white",children:M.length})]})]})]}),Dt?O.jsx("div",{className:"max-w-7xl mx-auto p-6 animate-fade-in",children:A?O.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[O.jsxs("div",{className:"w-full md:w-56 space-y-2",children:[O.jsx("button",{onClick:()=>N("products"),className:`w-full p-4 rounded-2xl text-right font-bold ${V==="products"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:""}),O.jsx("button",{onClick:()=>N("orders"),className:`w-full p-4 rounded-2xl text-right font-bold ${V==="orders"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:""}),O.jsx("button",{onClick:()=>N("settings"),className:`w-full p-4 rounded-2xl text-right font-bold ${V==="settings"?"bg-blue-600 text-white":"hover:bg-gray-100"}`,children:""}),O.jsx("button",{onClick:()=>C(!1),className:"w-full p-4 text-red-500 font-bold hover:bg-red-50 rounded-2xl",children:""})]}),O.jsxs("div",{className:"flex-grow bg-white p-8 rounded-[2.5rem] shadow-sm border border-gray-100",children:[V==="products"&&O.jsxs("div",{children:[O.jsxs("div",{className:"flex justify-between items-center mb-8",children:[O.jsx("h3",{className:"text-2xl font-black",children:" "}),O.jsxs("button",{onClick:()=>w({}),className:"bg-green-600 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2",children:[O.jsx(Qb,{size:18}),"  "]})]}),O.jsx("div",{className:"grid grid-cols-1 gap-4",children:o.map(nt=>O.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-2xl border hover:border-blue-100",children:[nt.image?O.jsx("img",{src:nt.image,className:"w-16 h-16 rounded-xl object-cover shadow-sm"}):O.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-xl flex items-center justify-center",children:O.jsx(Vd,{className:"text-gray-400"})}),O.jsxs("div",{className:"flex-grow font-black text-gray-800",children:[nt.name," - ",O.jsxs("span",{className:"text-blue-600",children:[nt.price," ."]})]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>w(nt),className:"p-2 text-blue-600 hover:bg-white rounded-lg",children:O.jsx(Wb,{size:18})}),O.jsx("button",{onClick:()=>{confirm("")&&$v(Br(un,"artifacts",Ri,"public","data","products",nt.id))},className:"p-2 text-red-500 hover:bg-white rounded-lg",children:O.jsx(B_,{size:18})})]})]},nt.id))})]}),V==="orders"&&O.jsxs("div",{children:[O.jsx("h3",{className:"text-2xl font-black mb-8",children:" "}),O.jsx("div",{className:"space-y-4",children:d.map(nt=>O.jsxs("div",{className:"border-2 border-gray-50 rounded-3xl p-6 hover:border-blue-100",children:[O.jsxs("div",{className:"flex justify-between items-start mb-4",children:[O.jsxs("div",{children:[O.jsx("h4",{className:"text-lg font-black",children:nt.customerName}),O.jsx("p",{className:"text-sm text-gray-400 font-bold",children:nt.phone})]}),O.jsx("span",{className:"bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-xs font-black",children:nt.status})]}),O.jsx("p",{className:"text-gray-600 text-sm mb-4 font-bold",children:nt.address}),O.jsx("div",{className:"bg-gray-50 p-4 rounded-xl text-xs font-bold mb-4",children:nt.items?.map((ct,Ct)=>O.jsxs("div",{className:"flex justify-between border-b last:border-0 py-1",children:[O.jsx("span",{children:ct.name}),O.jsxs("span",{children:["x",ct.qty]})]},Ct))}),O.jsxs("div",{className:"flex justify-between items-center pt-2",children:[O.jsxs("span",{className:"text-xl font-black text-blue-600",children:[nt.totalAmount," ."]}),O.jsxs("div",{className:"flex gap-2",children:[O.jsx("button",{onClick:()=>Jv(Br(un,"artifacts",Ri,"public","data","orders",nt.id),{status:" "}),className:"px-4 py-2 bg-green-600 text-white rounded-lg text-xs font-bold",children:" "}),O.jsx("button",{onClick:()=>$v(Br(un,"artifacts",Ri,"public","data","orders",nt.id)),className:"px-4 py-2 bg-red-50 text-red-500 rounded-lg text-xs font-bold",children:""})]})]})]},nt.id))})]}),V==="settings"&&O.jsxs("form",{className:"space-y-6 max-w-xl",onSubmit:async nt=>{if(nt.preventDefault(),!un)return;const ct=new FormData(nt.target);try{await iC(Br(un,"artifacts",Ri,"public","data","settings","config"),{storeName:ct.get("sn"),adminPassword:ct.get("ap"),phone:ct.get("ph"),secretAccessCode:ct.get("sc"),about:ct.get("ab"),paymentMethods:y.paymentMethods,email:y.email}),alert("   !")}catch(Ct){console.error("Settings Error:",Ct),alert("    .")}},children:[O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[O.jsx("input",{name:"sn",defaultValue:y.storeName,className:"p-4 bg-gray-50 rounded-xl outline-none border",placeholder:" "}),O.jsx("input",{name:"ph",defaultValue:y.phone,className:"p-4 bg-gray-50 rounded-xl outline-none border",placeholder:" "})]}),O.jsx("textarea",{name:"ab",defaultValue:y.about,className:"w-full p-4 bg-gray-50 rounded-xl outline-none border",placeholder:" ",rows:"3"}),O.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[O.jsx("input",{name:"sc",defaultValue:y.secretAccessCode,className:"p-4 bg-orange-50 text-orange-600 rounded-xl outline-none font-bold border border-orange-100",placeholder:"  "}),O.jsx("input",{name:"ap",defaultValue:y.adminPassword,className:"p-4 bg-gray-50 rounded-xl outline-none border",placeholder:"  "})]}),O.jsx("button",{className:"w-full py-5 bg-gray-900 text-white rounded-[1.5rem] font-black text-lg shadow-xl hover:bg-black transition-all",children:"  "})]})]})]}):O.jsxs("div",{className:"max-w-md mx-auto mt-20 p-10 bg-white border rounded-[2.5rem] shadow-xl text-center",children:[O.jsx(Pb,{className:"mx-auto mb-6 text-blue-600",size:48}),O.jsx("h2",{className:"text-2xl font-bold mb-6",children:" "}),O.jsx("input",{type:"password",placeholder:" ",className:"w-full p-4 bg-gray-50 rounded-2xl mb-4 text-center font-black outline-none border-2 focus:border-blue-500",onKeyDown:nt=>nt.key==="Enter"&&nt.target.value===y.adminPassword&&C(!0)})]})}):O.jsxs(O.Fragment,{children:[O.jsxs("header",{className:"bg-blue-600 text-white py-24 px-6 text-center relative overflow-hidden",children:[O.jsx("h2",{className:"text-5xl md:text-7xl font-black mb-6 relative z-10 tracking-tighter",children:y.storeName}),O.jsx("p",{className:"text-xl md:text-2xl opacity-90 max-w-3xl mx-auto font-bold relative z-10 leading-relaxed",children:y.about})]}),O.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[O.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-6 mb-12",children:[O.jsx("div",{className:"flex gap-2 overflow-x-auto no-scrollbar w-full lg:w-auto",children:pe.map(nt=>O.jsx("button",{onClick:()=>ge(nt),className:`px-8 py-3 rounded-full font-black text-sm whitespace-nowrap transition-all ${Xt===nt?"bg-blue-600 text-white shadow-xl shadow-blue-100":"bg-white text-gray-400 border border-gray-100 hover:bg-gray-50"}`,children:nt},nt))}),O.jsxs("div",{className:"hidden lg:flex items-center bg-gray-100 rounded-xl px-4 py-2 w-64 border border-transparent focus-within:bg-white focus-within:border-blue-200 transition-all",children:[O.jsx(Yb,{size:16,className:"text-gray-400 ml-2"}),O.jsx("input",{value:H,onChange:nt=>et(nt.target.value),placeholder:"...",className:"bg-transparent outline-none text-sm w-full font-bold"})]})]}),O.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:b?Array(8).fill(0).map((nt,ct)=>O.jsxs("div",{className:"bg-white border border-gray-100 rounded-[2.5rem] overflow-hidden h-[28rem] animate-pulse",children:[O.jsx("div",{className:"h-64 bg-gray-200 w-full"}),O.jsxs("div",{className:"p-8 space-y-4",children:[O.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4"}),O.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"})]})]},ct)):re.map((nt,ct)=>O.jsxs("div",{className:"bg-white border border-gray-50 rounded-[2.5rem] overflow-hidden hover:shadow-2xl transition-all duration-500 group flex flex-col animate-fade-in",style:{animationDelay:`${ct*.05}s`},children:[O.jsxs("div",{className:"h-72 overflow-hidden cursor-pointer relative",onClick:()=>ft(nt),children:[nt.image?O.jsx("img",{src:nt.image,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000",alt:nt.name}):O.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center text-gray-300",children:O.jsx(Vd,{size:48})}),O.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-[10px] font-black uppercase tracking-widest text-gray-600",children:nt.category})]}),O.jsxs("div",{className:"p-8 flex-grow",children:[O.jsx("h3",{className:"text-xl font-black text-gray-900 mb-2 line-clamp-1",children:nt.name}),O.jsxs("div",{className:"text-3xl font-black text-blue-600",children:[nt.price," ."]})]}),O.jsx("div",{className:"p-6 pt-0",children:O.jsxs("button",{onClick:()=>It(nt),className:"w-full py-4 bg-gray-900 text-white rounded-[1.25rem] font-black text-sm hover:bg-black transition-all flex items-center justify-center gap-3 shadow-lg active:scale-95",children:[O.jsx(Ec,{size:18}),"  "]})})]},nt.id))})]})]}),k&&O.jsx("div",{className:"fixed inset-0 z-[300] bg-black/60 flex items-center justify-center p-4 backdrop-blur-sm animate-fade-in",children:O.jsxs("form",{className:"bg-white p-8 rounded-[3rem] w-full max-w-md space-y-4 shadow-2xl relative",onSubmit:yt,children:[O.jsx("button",{type:"button",onClick:()=>w(null),className:"absolute left-6 top-6 p-2 bg-gray-100 rounded-full hover:text-red-500 transition-all",children:O.jsx(Tc,{size:20})}),O.jsx("h3",{className:"text-2xl font-black mb-6 tracking-tight",children:" "}),O.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[O.jsx("input",{name:"name",defaultValue:k.name,placeholder:" ",className:"w-full p-4 bg-gray-50 rounded-2xl outline-none border",required:!0}),O.jsx("input",{name:"category",defaultValue:k.category,placeholder:"",className:"w-full p-4 bg-gray-50 rounded-2xl outline-none border",required:!0}),O.jsx("input",{name:"price",type:"number",defaultValue:k.price,placeholder:"",className:"w-full p-4 bg-gray-50 rounded-2xl outline-none border",required:!0})]}),O.jsxs("div",{className:"border-2 border-dashed border-gray-200 p-6 rounded-2xl text-center relative hover:border-blue-400 transition-all cursor-pointer overflow-hidden",children:[O.jsx("input",{type:"file",name:"imageFile",className:"absolute inset-0 opacity-0 cursor-pointer z-10",accept:"image/*",onChange:st}),O.jsxs("div",{className:"text-gray-400",children:[O.jsx(sA,{className:"mx-auto mb-2"})," ",O.jsx("span",{className:"font-bold text-sm block",children:"   (  800KB)"})]}),(jt||k.image)&&O.jsx("div",{className:"mt-4 relative",children:O.jsx("img",{src:jt||k.image,className:"w-24 h-24 rounded-xl mx-auto object-cover shadow-md border-2 border-white",alt:"Preview"})})]}),O.jsx("textarea",{name:"description",defaultValue:k.description,className:"w-full p-4 bg-gray-50 rounded-2xl outline-none border",placeholder:" ...",rows:"3"}),O.jsxs("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-2xl",children:[O.jsx("span",{className:"text-sm font-bold text-gray-400",children:"  "}),O.jsx("input",{type:"checkbox",name:"inStock",defaultChecked:k.inStock,className:"w-5 h-5 accent-blue-600"})]}),O.jsx("button",{type:"submit",className:"w-full py-5 bg-blue-600 text-white rounded-2xl font-black text-lg shadow-xl transition-all",children:" "})]})}),$&&O.jsx("div",{className:"fixed inset-0 z-[200] bg-black/40 flex justify-end backdrop-blur-sm animate-fade-in",children:O.jsxs("div",{className:"bg-white w-full max-w-md h-full p-8 shadow-2xl flex flex-col animate-slide-left",children:[O.jsxs("div",{className:"flex justify-between items-center mb-10",children:[O.jsxs("h2",{className:"text-3xl font-black flex items-center gap-4",children:[O.jsx(Ec,{className:"text-blue-600"})," "]}),O.jsx("button",{onClick:()=>it(!1),className:"p-2 hover:bg-gray-100 rounded-full",children:O.jsx(Tc,{size:28})})]}),O.jsx("div",{className:"flex-grow overflow-y-auto space-y-6",children:M.length===0?O.jsx("div",{className:"text-center py-20 text-gray-300 font-black",children:"  "}):M.map(nt=>O.jsxs("div",{className:"flex gap-4 items-center bg-gray-50 p-4 rounded-2xl relative",children:[nt.image&&O.jsx("img",{src:nt.image,className:"w-16 h-16 rounded-xl object-cover"}),O.jsxs("div",{className:"flex-grow font-black text-sm",children:[O.jsx("p",{className:"text-gray-900",children:nt.name}),O.jsxs("p",{className:"text-blue-600",children:[nt.price," .  ",nt.qty]})]}),O.jsx("button",{onClick:()=>F(M.filter(ct=>ct.id!==nt.id)),className:"text-red-400 p-2",children:O.jsx(B_,{size:18})})]},nt.id))}),M.length>0&&O.jsxs("div",{className:"border-t pt-8 mt-4",children:[O.jsxs("div",{className:"text-3xl font-black mb-6 flex justify-between",children:[O.jsx("span",{children:":"}),O.jsxs("span",{className:"text-blue-600",children:[Gn," ."]})]}),O.jsx("button",{onClick:()=>{it(!1),mt(!0)},className:"w-full py-5 bg-gray-900 text-white rounded-[1.5rem] font-black text-2xl shadow-xl active:scale-95 transition-all",children:" "})]})]})}),Et&&O.jsx("div",{className:"fixed inset-0 z-[300] bg-white p-8 overflow-y-auto animate-fade-in",children:O.jsxs("div",{className:"max-w-xl mx-auto py-10",children:[O.jsxs("div",{className:"flex justify-between items-center mb-12",children:[O.jsx("h2",{className:"text-4xl font-black tracking-tighter",children:" "}),O.jsx("button",{onClick:()=>mt(!1),className:"p-4 bg-gray-100 rounded-full",children:O.jsx(Tc,{size:24})})]}),Kt?O.jsxs("div",{className:"text-center py-20 animate-fade-in",children:[O.jsx(Vb,{className:"mx-auto text-green-500 mb-10",size:100}),O.jsx("h2",{className:"text-6xl font-black mb-6",children:"  !"}),O.jsx("p",{className:"text-gray-400 font-bold text-xl mb-12 leading-relaxed",children:"  .         ."}),O.jsx("button",{onClick:()=>{F([]),mt(!1),Wt(!1)},className:"bg-gray-900 text-white px-20 py-6 rounded-[2rem] font-black text-2xl shadow-2xl active:scale-95 transition-all",children:" "})]}):O.jsxs("form",{className:"space-y-6 text-right",onSubmit:At,children:[O.jsxs("div",{className:"space-y-4",children:[O.jsx("input",{name:"name",placeholder:" ",className:"w-full p-5 bg-gray-50 rounded-2xl font-black outline-none border-2 border-transparent focus:border-blue-500",required:!0}),O.jsx("input",{name:"phone",placeholder:" ",className:"w-full p-5 bg-gray-50 rounded-2xl font-black outline-none border-2 border-transparent focus:border-blue-500",required:!0}),O.jsx("textarea",{name:"addr",placeholder:" ",className:"w-full p-5 bg-gray-50 rounded-2xl font-black outline-none border-2 border-transparent focus:border-blue-500",rows:"3",required:!0})]}),O.jsxs("div",{className:"bg-blue-50 p-8 rounded-[2rem] border-2 border-blue-100 flex items-center justify-between",children:[O.jsxs("div",{className:"font-black text-right",children:[O.jsx("p",{className:"text-blue-600 text-lg mb-1 font-black",children:" "}),O.jsx("p",{className:"text-gray-500 font-bold",children:y.paymentMethods})]}),O.jsx(j_,{size:48,className:"text-blue-200"})]}),O.jsx("button",{className:"w-full py-7 bg-blue-600 text-white rounded-[2rem] font-black text-3xl shadow-2xl active:scale-95 transition-all",children:" "})]})]})}),J&&O.jsx("div",{className:"fixed inset-0 z-[200] bg-black/80 backdrop-blur-xl flex items-center justify-center p-4",children:O.jsxs("div",{className:"bg-white rounded-[3.5rem] max-w-5xl w-full max-h-[90vh] overflow-y-auto relative animate-scale-up",children:[O.jsx("button",{onClick:()=>ft(null),className:"absolute left-8 top-8 z-10 p-3 bg-gray-100 rounded-full hover:text-red-500 transition-all shadow-sm",children:O.jsx(Tc,{size:24})}),O.jsxs("div",{className:"flex flex-col md:flex-row",children:[O.jsx("div",{className:"md:w-1/2 p-12 bg-gray-50 flex items-center justify-center",children:J.image?O.jsx("img",{src:J.image,className:"max-w-full rounded-[3rem] shadow-2xl"}):O.jsx(Vd,{size:64,className:"text-gray-300"})}),O.jsxs("div",{className:"md:w-1/2 p-12 md:p-20 flex flex-col justify-center text-right",children:[O.jsx("span",{className:"text-blue-600 font-black text-xs uppercase tracking-widest mb-4",children:J.category}),O.jsx("h2",{className:"text-4xl md:text-5xl font-black text-gray-900 mb-6",children:J.name}),O.jsxs("div",{className:"text-4xl md:text-5xl font-black text-blue-600 mb-10",children:[J.price," ."]}),O.jsx("p",{className:"text-gray-500 text-lg leading-relaxed mb-10 font-bold",children:J.description}),O.jsxs("button",{onClick:()=>{It(J),ft(null),it(!0)},className:"w-full py-6 bg-blue-600 text-white rounded-[2rem] font-black text-3xl shadow-2xl flex items-center justify-center gap-4 active:scale-95 transition-all",children:[O.jsx(Ec,{size:28}),"  "]})]})]})]})}),O.jsxs("footer",{className:"bg-white border-t border-gray-100 py-20 mt-20 text-center md:text-right",children:[O.jsxs("div",{className:"max-w-7xl mx-auto px-8 grid grid-cols-1 md:grid-cols-3 gap-12",children:[O.jsxs("div",{className:"space-y-4 text-right",children:[O.jsx("h4",{className:"text-2xl font-black text-blue-600",children:y.storeName}),O.jsx("p",{className:"text-gray-400 font-bold leading-relaxed",children:y.about})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h4",{className:"text-xl font-black",children:" "}),O.jsxs("div",{className:"space-y-2 font-bold text-gray-600",children:[O.jsxs("p",{className:"flex items-center justify-center md:justify-start gap-2",children:[O.jsx(Gb,{size:16})," ",y.phone]}),O.jsxs("p",{className:"flex items-center justify-center md:justify-start gap-2",children:[O.jsx(jb,{size:16})," ",y.email]})]})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h4",{className:"text-xl font-black",children:"  "}),O.jsx("p",{className:"font-bold text-blue-600",children:y.paymentMethods}),O.jsxs("div",{className:"flex justify-center md:justify-start gap-4 text-gray-300 mt-4",children:[O.jsx(j_,{size:32}),O.jsx(nA,{size:32})]})]})]}),O.jsxs("div",{className:"text-center mt-20 text-gray-300 font-bold text-[10px] tracking-widest uppercase border-t pt-8 mx-8",children:[" ",new Date().getFullYear()," ",y.storeName," -   "]})]})]})}Cb.createRoot(document.getElementById("root")).render(O.jsx(vb.StrictMode,{children:O.jsx(lN,{})}));
